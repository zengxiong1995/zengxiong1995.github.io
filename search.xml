<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Git æ¨¡å—</title>
    <url>/2023/12/14/Git%E6%A8%A1%E5%9D%97/</url>
    <content><![CDATA[<h1 id="Git-å®é™…åœºæ™¯å¸¸ç”¨å‘½ä»¤"><a href="#Git-å®é™…åœºæ™¯å¸¸ç”¨å‘½ä»¤" class="headerlink" title="Git-å®é™…åœºæ™¯å¸¸ç”¨å‘½ä»¤"></a>Git-å®é™…åœºæ™¯å¸¸ç”¨å‘½ä»¤</h1><p>GIT å®˜ç½‘åœ°å€: <a href="https://git-scm.com/">https://git-scm.com/</a><br><img src="https://s2.loli.net/2023/12/14/lNcVo2EO3bgRfHd.png" alt="image.png"></p>
<h2 id="ä¸€ã€é…ç½®"><a href="#ä¸€ã€é…ç½®" class="headerlink" title="ä¸€ã€é…ç½®"></a>ä¸€ã€é…ç½®</h2><p>ğŸŒå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é…ç½®é‚®ç®±</span> </span><br><span class="line">git config  --global  user.email &quot;ä½ çš„é‚®ç®±&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é…ç½®ç”¨æˆ·å</span></span><br><span class="line">git config --global user.name &quot;ä½ çš„ç”¨æˆ·å&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç”ŸæˆSSHç§˜é’¥</span></span><br><span class="line">ssh-keygen -t rsa -C &quot;ä½ çš„é‚®ç®±&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹æ‰€æœ‰çš„é…ç½®ä¿¡æ¯</span></span><br><span class="line">git config -l </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ›´é’ˆå¯¹æ€§çš„</span></span><br><span class="line">git config --system -l </span><br><span class="line">git config --local -l </span><br><span class="line">git config --global -l </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç§»é™¤è¿œç¨‹åœ°å€ä¿¡æ¯</span> </span><br><span class="line">git remote remove origin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ·»åŠ æ–°çš„åœ°å€ï¼š</span></span><br><span class="line">git remote add origin è¿œç¨‹è·¯å¾„</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç›´æ¥ä¿®æ”¹è¿œç¨‹ä»“åº“æŒ‡å‘åœ°å€</span></span><br><span class="line">git remote set-url origin è¿œç¨‹è·¯å¾„</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç¼–è¾‘æ¨¡å¼ä¿®æ”¹</span></span><br><span class="line">git config -e</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è®¾ç½®è®°ä½å¯†ç ï¼ˆé»˜è®¤15åˆ†é’Ÿï¼‰</span></span><br><span class="line">git config --global credential.helper cache</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è®¾ç½®è®°ä½å¯†ç æ—¶é—´</span></span><br><span class="line">git config credential.helper &#x27;cache --timeout=3600&#x27;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ°¸ä¹…ä¿å­˜å¯†ç </span></span><br><span class="line">git config --global credential.helper store</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ¸…é™¤å¯†ç </span></span><br><span class="line">git config --system --unset credential.helper</span><br></pre></td></tr></table></figure>

<h2 id="äºŒã€æ—¥å¸¸å·¥ä½œå¸¸ç”¨å‘½ä»¤"><a href="#äºŒã€æ—¥å¸¸å·¥ä½œå¸¸ç”¨å‘½ä»¤" class="headerlink" title="äºŒã€æ—¥å¸¸å·¥ä½œå¸¸ç”¨å‘½ä»¤"></a>äºŒã€æ—¥å¸¸å·¥ä½œå¸¸ç”¨å‘½ä»¤</h2><p>ğŸŒå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æ‹·è´ä¸€ä»½è¿œç¨‹ä»“åº“ï¼Œä¹Ÿå°±æ˜¯ä¸‹è½½ä¸€ä¸ªé¡¹ç›®ã€‚</span></span><br><span class="line">git <span class="built_in">clone</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº</span></span><br><span class="line">git add</span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†æš‚å­˜åŒºå†…å®¹æ·»åŠ åˆ°ä»“åº“ä¸­</span></span><br><span class="line">git commit</span><br><span class="line"></span><br><span class="line"><span class="comment">#æƒ³ä¿®æ”¹æ³¨é‡Šï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œä¼šè¿›å…¥é»˜è®¤vimç¼–è¾‘å™¨ï¼Œä¿®æ”¹æ³¨é‡Šå®Œæ¯•åä¿å­˜å°±å¥½äº†</span></span><br><span class="line">git commit --amend</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ã€‚</span></span><br><span class="line">git <span class="built_in">rm</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†æ–‡ä»¶ä»æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸­åˆ é™¤</span></span><br><span class="line">git <span class="built_in">rm</span> &lt;file&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚æœåˆ é™¤ä¹‹å‰ä¿®æ”¹è¿‡å¹¶ä¸”å·²ç»æ”¾åˆ°æš‚å­˜åŒºåŸŸçš„è¯ï¼Œåˆ™å¿…é¡»è¦ç”¨å¼ºåˆ¶åˆ é™¤é€‰é¡¹ -f</span></span><br><span class="line">git <span class="built_in">rm</span> -f &lt;file&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#æƒ³æŠŠæ–‡ä»¶ä»æš‚å­˜åŒºåŸŸç§»é™¤ï¼Œä½†ä»ç„¶å¸Œæœ›ä¿ç•™åœ¨å½“å‰å·¥ä½œç›®å½•ä¸­</span></span><br><span class="line">git <span class="built_in">rm</span> --cached &lt;file&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç§»åŠ¨æˆ–é‡å‘½åå·¥ä½œåŒºæ–‡ä»¶ã€‚</span></span><br><span class="line">git <span class="built_in">mv</span> [file] [newfile]</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä»è¿œç¨‹è·å–ä»£ç åº“</span></span><br><span class="line">git fetch </span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸‹è½½è¿œç¨‹ä»£ç å¹¶åˆå¹¶</span></span><br><span class="line">git pull</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‹‰å–è¿œç¨‹masterå’Œæœ¬åœ°masteråˆå¹¶</span></span><br><span class="line">git pull origin master</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‹‰å–è¿œç¨‹çš„masteråˆ°æœ¬åœ°çš„dev</span></span><br><span class="line">git pull origin master:dev</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸Šä¼ è¿œç¨‹ä»£ç å¹¶åˆå¹¶</span></span><br><span class="line">git push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt;:&lt;è¿œç¨‹åˆ†æ”¯å&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚æœæœ¬åœ°ç‰ˆæœ¬ä¸è¿œç¨‹ç‰ˆæœ¬æœ‰å·®å¼‚ï¼Œä½†åˆè¦å¼ºåˆ¶æ¨é€å¯ä»¥ä½¿ç”¨ --force å‚æ•°</span></span><br><span class="line">git push --force origin master</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆå¹¶</span></span><br><span class="line">git merge</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤æœ¬åœ°åˆ†æ”¯xxx  åˆ é™¤åˆ†æ”¯å‰å…ˆåˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯</span></span><br><span class="line">git checkout dev</span><br><span class="line">git branch -D tmp</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤è¿œç¨‹åˆ†æ”¯XXX</span></span><br><span class="line">git push origin --delete XXX</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹ä»“åº“å½“å‰çš„çŠ¶æ€ï¼Œæ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶ã€‚</span></span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¯”è¾ƒæ–‡ä»¶çš„ä¸åŒï¼Œå³æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚ã€‚</span></span><br><span class="line">git diff </span><br><span class="line"></span><br><span class="line"><span class="comment">#æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚</span></span><br><span class="line">git diff [file]</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€æ¬¡æäº¤(commit)çš„å·®å¼‚</span></span><br><span class="line">git diff --cached [file]</span><br><span class="line">git diff --staged [file]</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹å†å²æäº¤è®°å½•</span></span><br><span class="line">git <span class="built_in">log</span>  <span class="comment">#--pretty=oneline</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ›´ç®€æ´çš„æŸ¥çœ‹</span></span><br><span class="line">git reflog</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä»¥åˆ—è¡¨å½¢å¼æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çš„å†å²ä¿®æ”¹è®°å½•</span></span><br><span class="line">git blame &lt;file&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#å›é€€ç‰ˆæœ¬ã€‚</span></span><br><span class="line"><span class="comment">#--soft  ä¸åˆ é™¤å·¥ä½œç©ºé—´æ”¹åŠ¨ä»£ç ï¼Œæ’¤é”€commitï¼Œä¸æ’¤é”€git add . </span></span><br><span class="line"><span class="comment">#--hard   åˆ é™¤å·¥ä½œç©ºé—´æ”¹åŠ¨ä»£ç ï¼Œæ’¤é”€commitï¼Œæ’¤é”€git add . </span></span><br><span class="line">git reset</span><br><span class="line"></span><br><span class="line"><span class="comment">#å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬</span></span><br><span class="line">git reset --hard  HEAD^</span><br><span class="line"></span><br><span class="line"><span class="comment">#å›é€€åˆ°ä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼ˆæ›´å¤šä»¥æ­¤ç±»æ¨ï¼‰</span></span><br><span class="line">git reset --hard  HEAD^^</span><br><span class="line"></span><br><span class="line"><span class="comment">#å›é€€ç‰ˆæœ¬ä¹Ÿå¯ä»¥å†™æˆHEAD~1ã€HEAD~2....</span></span><br><span class="line">git reset --hard  HEAD~2</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŒ‡å®šç‰ˆæœ¬å·å›é€€ 930c4a7aæ˜¯æŒ‡å®šçš„ç‰ˆæœ¬å·</span></span><br><span class="line">git reset --hard  930c4a7a</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹åˆ†æ”¯åˆ—è¡¨</span></span><br><span class="line">git branch</span><br><span class="line">git branch -r</span><br><span class="line">git branch -a</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŒ‘æ‹£æäº¤ </span></span><br><span class="line">git cherry-pick</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¯¯åˆ æ€ä¹ˆåŠ</span></span><br><span class="line">git  checkout  -- test.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ›å»ºæœ¬åœ°tag</span></span><br><span class="line">git tag &lt;tagName&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¨é€åˆ°è¿œç¨‹ä»“åº“</span></span><br><span class="line">git push origin &lt;tagName&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸€æ¬¡å…¨éƒ¨æ¨é€æœ¬åœ°æœªæ¨é€çš„æ ‡ç­¾</span></span><br><span class="line">git push origin --tags</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰§è¡Œå­˜å‚¨æ—¶ï¼Œæ·»åŠ å¤‡æ³¨ï¼Œæ–¹ä¾¿æŸ¥æ‰¾ï¼Œåªæœ‰git stash ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æŸ¥æ‰¾æ—¶ä¸æ–¹ä¾¿è¯†åˆ«</span></span><br><span class="line">git stash save <span class="string">&quot;save message&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹stashäº†å“ªäº›å­˜å‚¨</span></span><br><span class="line">git stash list</span><br><span class="line"></span><br><span class="line"><span class="comment">#å‘½ä»¤æ¢å¤ä¹‹å‰ç¼“å­˜çš„å·¥ä½œç›®å½•</span></span><br><span class="line">git stash pop</span><br><span class="line"></span><br><span class="line"><span class="comment">#åº”ç”¨æŸä¸ªå­˜å‚¨,ä½†ä¸ä¼šæŠŠå­˜å‚¨ä»å­˜å‚¨åˆ—è¡¨ä¸­åˆ é™¤ï¼Œé»˜è®¤ä½¿ç”¨ç¬¬ä¸€ä¸ªå­˜å‚¨,å³stash@&#123;0&#125;</span></span><br><span class="line">git stash apply</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸¢å¼ƒstash@&#123;$num&#125;å­˜å‚¨ï¼Œä»åˆ—è¡¨ä¸­åˆ é™¤è¿™ä¸ªå­˜å‚¨</span></span><br><span class="line">git stash drop </span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤æ‰€æœ‰ç¼“å­˜çš„stash</span></span><br><span class="line">git stash clear</span><br></pre></td></tr></table></figure>

<h3 id="ä¸‰ã€ä»“åº“"><a href="#ä¸‰ã€ä»“åº“" class="headerlink" title="ä¸‰ã€ä»“åº“"></a>ä¸‰ã€ä»“åº“</h3><p>ğŸŒå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“</span></span><br><span class="line">git init</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»£ç åº“</span></span><br><span class="line">git init [project-name]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²</span></span><br><span class="line">git clone [url]</span><br></pre></td></tr></table></figure>

<h3 id="å››ã€é…ç½®"><a href="#å››ã€é…ç½®" class="headerlink" title="å››ã€é…ç½®"></a>å››ã€é…ç½®</h3><p>ğŸŒå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºå½“å‰çš„Gité…ç½®</span></span><br><span class="line">git config --list</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç¼–è¾‘Gité…ç½®æ–‡ä»¶</span></span><br><span class="line">git config -e [--global]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·åå’Œé‚®ç®±åœ°å€</span></span><br><span class="line">git config [--global] user.name &quot;[name]&quot;</span><br><span class="line">git config [--global] user.email &quot;[email address]&quot;</span><br></pre></td></tr></table></figure>

<h3 id="äº”ã€å¢åŠ -åˆ é™¤æ–‡ä»¶"><a href="#äº”ã€å¢åŠ -åˆ é™¤æ–‡ä»¶" class="headerlink" title="äº”ã€å¢åŠ &#x2F;åˆ é™¤æ–‡ä»¶"></a>äº”ã€å¢åŠ &#x2F;åˆ é™¤æ–‡ä»¶</h3><p>ğŸŒå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº</span></span><br><span class="line">git add [file1] [file2] ...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½•</span></span><br><span class="line">git add [dir]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span></span><br><span class="line">git add .</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ·»åŠ æ¯ä¸ªå˜åŒ–å‰ï¼Œéƒ½ä¼šè¦æ±‚ç¡®è®¤</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯¹äºåŒä¸€ä¸ªæ–‡ä»¶çš„å¤šå¤„å˜åŒ–ï¼Œå¯ä»¥å®ç°åˆ†æ¬¡æäº¤</span></span><br><span class="line">git add -p</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº</span></span><br><span class="line">git rm [file1] [file2] ...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº</span></span><br><span class="line">git rm --cached [file]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ”¹åæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº</span></span><br><span class="line">git mv [file-original] [file-renamed]</span><br></pre></td></tr></table></figure>

<h3 id="å…­ã€ä»£ç æäº¤"><a href="#å…­ã€ä»£ç æäº¤" class="headerlink" title="å…­ã€ä»£ç æäº¤"></a>å…­ã€ä»£ç æäº¤</h3><p>ğŸŒå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº</span></span><br><span class="line">git commit -m [message]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº</span></span><br><span class="line">git commit [file1] [file2] ... -m [message]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº</span></span><br><span class="line">git commit -a</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯</span></span><br><span class="line">git commit -v</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯</span></span><br><span class="line">git commit --amend -m [message]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–</span></span><br><span class="line">git commit --amend [file1] [file2] ...</span><br></pre></td></tr></table></figure>

<h3 id="ä¸ƒã€åˆ†æ”¯"><a href="#ä¸ƒã€åˆ†æ”¯" class="headerlink" title="ä¸ƒã€åˆ†æ”¯"></a>ä¸ƒã€åˆ†æ”¯</h3><p>ğŸŒå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git branch</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git branch -r</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git branch -a</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯</span></span><br><span class="line">git branch [branch-name]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</span></span><br><span class="line">git checkout -b [branch]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit</span></span><br><span class="line">git branch [branch] [commit]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»</span></span><br><span class="line">git branch --track [branch] [remote-branch]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº</span></span><br><span class="line">git checkout [branch-name]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯</span></span><br><span class="line">git checkout -</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´</span></span><br><span class="line">git branch --set-upstream [branch] [remote-branch]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line">git merge [branch]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯</span></span><br><span class="line">git cherry-pick [commit]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤åˆ†æ”¯</span></span><br><span class="line">git branch -d [branch-name]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git push origin --delete [branch-name]</span><br><span class="line">git branch -dr [remote/branch]</span><br></pre></td></tr></table></figure>

<h3 id="å…«ã€æ ‡ç­¾"><a href="#å…«ã€æ ‡ç­¾" class="headerlink" title="å…«ã€æ ‡ç­¾"></a>å…«ã€æ ‡ç­¾</h3><p>ğŸŒå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ—å‡ºæ‰€æœ‰tag</span></span><br><span class="line">git tag</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit</span></span><br><span class="line">git tag [tag]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit</span></span><br><span class="line">git tag [tag] [commit]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤æœ¬åœ°tag</span></span><br><span class="line">git tag -d [tag]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤è¿œç¨‹tag</span></span><br><span class="line">git push origin :refs/tags/[tagName]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹tagä¿¡æ¯</span></span><br><span class="line">git show [tag]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æäº¤æŒ‡å®štag</span></span><br><span class="line">git push [remote] [tag]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æäº¤æ‰€æœ‰tag</span></span><br><span class="line">git push [remote] --tags</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag</span></span><br><span class="line">git checkout -b [branch] [tag]</span><br></pre></td></tr></table></figure>

<h3 id="ä¹ã€æŸ¥çœ‹ä¿¡æ¯"><a href="#ä¹ã€æŸ¥çœ‹ä¿¡æ¯" class="headerlink" title="ä¹ã€æŸ¥çœ‹ä¿¡æ¯"></a>ä¹ã€æŸ¥çœ‹ä¿¡æ¯</h3><p>ğŸŒå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶</span></span><br><span class="line">git status</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²</span></span><br><span class="line">git log</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºcommitå†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶</span></span><br><span class="line">git log --stat</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯</span></span><br><span class="line">git log -S [keyword]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ</span></span><br><span class="line">git log [tag] HEAD --pretty=format:%s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶<span class="string">&quot;æäº¤è¯´æ˜&quot;</span>å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶</span></span><br><span class="line">git log [tag] HEAD --grep feature</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å</span></span><br><span class="line">git log --follow [file]</span><br><span class="line">git whatchanged [file]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff</span></span><br><span class="line">git log -p [file]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºè¿‡å»5æ¬¡æäº¤</span></span><br><span class="line">git log -5 --pretty --oneline</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº</span></span><br><span class="line">git shortlog -sn</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡</span></span><br><span class="line">git blame [file]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚</span></span><br><span class="line">git diff</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚</span></span><br><span class="line">git diff --cached [file]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºå·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚</span></span><br><span class="line">git diff HEAD</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚</span></span><br><span class="line">git diff [first-branch]...[second-branch]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç </span></span><br><span class="line">git diff --shortstat &quot;@&#123;0 day ago&#125;&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–</span></span><br><span class="line">git show [commit]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶</span></span><br><span class="line">git show --name-only [commit]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹</span></span><br><span class="line">git show [commit]:[filename]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤</span></span><br><span class="line">git reflog</span><br></pre></td></tr></table></figure>

<h3 id="åã€è¿œç¨‹åŒæ­¥"><a href="#åã€è¿œç¨‹åŒæ­¥" class="headerlink" title="åã€è¿œç¨‹åŒæ­¥"></a>åã€è¿œç¨‹åŒæ­¥</h3><p>ğŸŒå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨</span></span><br><span class="line">git fetch [remote]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“</span></span><br><span class="line">git remote -v</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯</span></span><br><span class="line">git remote show [remote]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å</span></span><br><span class="line">git remote add [shortname] [url]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶</span></span><br><span class="line">git pull [remote] [branch]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span></span><br><span class="line">git push [remote] [branch]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª</span></span><br><span class="line">git push [remote] --force</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span></span><br><span class="line">git push [remote] --all</span><br></pre></td></tr></table></figure>

<h3 id="åä¸€ã€æ’¤é”€"><a href="#åä¸€ã€æ’¤é”€" class="headerlink" title="åä¸€ã€æ’¤é”€"></a>åä¸€ã€æ’¤é”€</h3><p>ğŸŒå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº</span></span><br><span class="line">git checkout [file]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº</span></span><br><span class="line">git checkout [commit] [file]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº</span></span><br><span class="line">git checkout .</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜</span></span><br><span class="line">git reset [file]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´</span></span><br><span class="line">git reset --hard</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜</span></span><br><span class="line">git reset [commit]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®šcommitä¸€è‡´</span></span><br><span class="line">git reset --hard [commit]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜</span></span><br><span class="line">git reset --keep [commit]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line">git revert [commit]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åå†ç§»å…¥</span></span><br><span class="line">git stash</span><br><span class="line">git stash pop</span><br></pre></td></tr></table></figure>

<h3 id="åäºŒã€å…¶ä»–"><a href="#åäºŒã€å…¶ä»–" class="headerlink" title="åäºŒã€å…¶ä»–"></a>åäºŒã€å…¶ä»–</h3><p>ğŸŒå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç”Ÿæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„å‹ç¼©åŒ…</span></span><br><span class="line">git archive</span><br></pre></td></tr></table></figure>

<h3 id="åä¸‰ã€GITæ€ç»´å¯¼å›¾"><a href="#åä¸‰ã€GITæ€ç»´å¯¼å›¾" class="headerlink" title="åä¸‰ã€GITæ€ç»´å¯¼å›¾"></a>åä¸‰ã€GITæ€ç»´å¯¼å›¾</h3><p>ğŸŒå¦‚ä¸‹å‘½ä»¤ğŸ”¬<br><img src="https://s2.loli.net/2023/12/14/IUJzm4Z1AM8xYuh.png" alt="gitæ€ç»´å¯¼å›¾"></p>
]]></content>
      <categories>
        <category>GIT</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>JAVA8 åå¤§æ–°ç‰¹æ€§</title>
    <url>/2023/11/14/JAVA8%20%E5%8D%81%E5%A4%A7%E6%96%B0%E7%89%B9%E6%80%A7/</url>
    <content><![CDATA[<h1 id="JAVA8-åå¤§æ–°ç‰¹æ€§"><a href="#JAVA8-åå¤§æ–°ç‰¹æ€§" class="headerlink" title="JAVA8 åå¤§æ–°ç‰¹æ€§"></a>JAVA8 åå¤§æ–°ç‰¹æ€§</h1><h2 id="ä¸€ã€æ¥å£çš„é»˜è®¤æ–¹æ³•"><a href="#ä¸€ã€æ¥å£çš„é»˜è®¤æ–¹æ³•" class="headerlink" title="ä¸€ã€æ¥å£çš„é»˜è®¤æ–¹æ³•"></a>ä¸€ã€æ¥å£çš„é»˜è®¤æ–¹æ³•</h2><p><code>Java 8</code>å…è®¸æˆ‘ä»¬ç»™æ¥å£æ·»åŠ ä¸€ä¸ªéæŠ½è±¡çš„æ–¹æ³•å®ç°ï¼Œåªéœ€è¦ä½¿ç”¨<code>default</code>å…³é”®å­—å³å¯ï¼Œè¿™ä¸ªç‰¹å¾åˆå«åš<strong>æ‰©å±•æ–¹æ³•</strong>ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Formula</span>&#123;</span><br><span class="line">    <span class="type">double</span> <span class="title function_">calculate</span><span class="params">(<span class="type">int</span> a)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> <span class="type">double</span> <span class="title function_">sqrt</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">        returnMath.sqrt(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Formula</code>æ¥å£åœ¨æ‹¥æœ‰<code>calculate</code>æ–¹æ³•ä¹‹å¤–åŒæ—¶è¿˜å®šä¹‰äº†<code>sqrt</code>æ–¹æ³•ï¼Œå®ç°äº†<code>Formula</code>æ¥å£çš„å­ç±»åªéœ€è¦å®ç°ä¸€ä¸ª<code>calculate</code>æ–¹æ³•ï¼Œé»˜è®¤æ–¹æ³•<code>sqrt</code>å°†åœ¨å­ç±»ä¸Šå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Formula</span> <span class="variable">formula</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Formula</span>() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">calculate</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sqrt(a * <span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line">formula.calculate(<span class="number">100</span>);     <span class="comment">// 100.0</span></span><br><span class="line">formula.sqrt(<span class="number">16</span>);           <span class="comment">// 4.0</span></span><br></pre></td></tr></table></figure>
<p>æ–‡ä¸­çš„<code>formula</code>è¢«å®ç°ä¸ºä¸€ä¸ªåŒ¿åç±»çš„å®ä¾‹ï¼Œè¯¥ä»£ç éå¸¸å®¹æ˜“ç†è§£ï¼Œ6è¡Œä»£ç å®ç°äº†è®¡ç®— <code>sqrt(a * 100)</code>ã€‚åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šçœ‹åˆ°å®ç°å•æ–¹æ³•æ¥å£çš„æ›´ç®€å•çš„åšæ³•ã€‚</p>
<p>è¯‘è€…æ³¨:åœ¨<code>Java</code>ä¸­åªæœ‰å•ç»§æ‰¿ï¼Œå¦‚æœè¦è®©ä¸€ä¸ªç±»èµ‹äºˆæ–°çš„ç‰¹æ€§ï¼Œé€šå¸¸æ˜¯ä½¿ç”¨æ¥å£æ¥å®ç°ï¼Œåœ¨<code>C++</code>ä¸­æ”¯æŒå¤šç»§æ‰¿ï¼Œå…è®¸ä¸€ä¸ªå­ç±»åŒæ—¶å…·æœ‰å¤šä¸ªçˆ¶ç±»çš„æ¥å£ä¸åŠŸèƒ½ï¼Œåœ¨å…¶ä»–è¯­è¨€ä¸­ï¼Œè®©ä¸€ä¸ªç±»åŒæ—¶å…·æœ‰å…¶ä»–çš„å¯å¤ç”¨ä»£ç çš„æ–¹æ³•å«åš<code>mixin</code>ã€‚æ–°çš„<code>Java 8</code> çš„è¿™ä¸ªç‰¹æ–°åœ¨ç¼–è¯‘å™¨å®ç°çš„è§’åº¦ä¸Šæ¥è¯´æ›´åŠ æ¥è¿‘<code>Scala</code>çš„<code>trait</code>ã€‚ åœ¨<code>C#</code>ä¸­ä¹Ÿæœ‰åä¸ºæ‰©å±•æ–¹æ³•çš„æ¦‚å¿µï¼Œå…è®¸ç»™å·²å­˜åœ¨çš„ç±»å‹æ‰©å±•æ–¹æ³•ï¼Œå’Œ<code>Java 8</code>çš„è¿™ä¸ªåœ¨è¯­ä¹‰ä¸Šæœ‰å·®åˆ«ã€‚</p>
<h2 id="äºŒã€Lambda-è¡¨è¾¾å¼"><a href="#äºŒã€Lambda-è¡¨è¾¾å¼" class="headerlink" title="äºŒã€Lambda è¡¨è¾¾å¼"></a>äºŒã€Lambda è¡¨è¾¾å¼</h2><p>é¦–å…ˆçœ‹çœ‹åœ¨è€ç‰ˆæœ¬çš„<code>Java</code>ä¸­æ˜¯å¦‚ä½•æ’åˆ—å­—ç¬¦ä¸²çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; names = Arrays.asList(<span class="string">&quot;peter&quot;</span>, <span class="string">&quot;anna&quot;</span>, <span class="string">&quot;mike&quot;</span>, <span class="string">&quot;xenia&quot;</span>);</span><br><span class="line"></span><br><span class="line">Collections.sort(names, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(String a, String b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> b.compareTo(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>åªéœ€è¦ç»™é™æ€æ–¹æ³• <code>Collections.sort</code> ä¼ å…¥ä¸€ä¸ª<code>List</code>å¯¹è±¡ä»¥åŠä¸€ä¸ªæ¯”è¾ƒå™¨æ¥æŒ‰æŒ‡å®šé¡ºåºæ’åˆ—ã€‚é€šå¸¸åšæ³•éƒ½æ˜¯åˆ›å»ºä¸€ä¸ªåŒ¿åçš„æ¯”è¾ƒå™¨å¯¹è±¡ç„¶åå°†å…¶ä¼ é€’ç»™<code>sort</code>æ–¹æ³•ã€‚<br>åœ¨<code>Java 8</code> ä¸­ä½ å°±æ²¡å¿…è¦ä½¿ç”¨è¿™ç§ä¼ ç»Ÿçš„åŒ¿åå¯¹è±¡çš„æ–¹å¼äº†ï¼Œ<code>Java 8</code>æä¾›äº†æ›´ç®€æ´çš„è¯­æ³•ï¼Œ<code>lambda</code>è¡¨è¾¾å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Collections.sort(names, (String a, String b) -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> b.compareTo(a);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>çœ‹åˆ°äº†å§ï¼Œä»£ç å˜å¾—æ›´æ®µä¸”æ›´å…·æœ‰å¯è¯»æ€§ï¼Œä½†æ˜¯å®é™…ä¸Šè¿˜å¯ä»¥å†™å¾—æ›´çŸ­ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Collections.sort(names, (String a, String b) -&gt; b.compareTo(a));</span><br></pre></td></tr></table></figure>
<p>å¯¹äºå‡½æ•°ä½“åªæœ‰ä¸€è¡Œä»£ç çš„ï¼Œä½ å¯ä»¥<strong>å»æ‰</strong>å¤§æ‹¬å·<code>&#123;&#125;</code>ä»¥åŠ<code>return</code>å…³é”®å­—ï¼Œä½†æ˜¯ä½ è¿˜å¯ä»¥å†™å¾—æ›´çŸ­ç‚¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Collections.sort(names, (a, b) -&gt; b.compareTo(a));</span><br></pre></td></tr></table></figure>
<p><code>Java</code>ç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨æ¨å¯¼å‡ºå‚æ•°ç±»å‹ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä¸ç”¨å†å†™ä¸€æ¬¡ç±»å‹ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹<code>lambda</code>è¡¨è¾¾å¼è¿˜èƒ½ä½œå‡ºä»€ä¹ˆæ›´æ–¹ä¾¿çš„ä¸œè¥¿æ¥.</p>
<h2 id="ä¸‰ã€å‡½æ•°å¼æ¥å£"><a href="#ä¸‰ã€å‡½æ•°å¼æ¥å£" class="headerlink" title="ä¸‰ã€å‡½æ•°å¼æ¥å£"></a>ä¸‰ã€å‡½æ•°å¼æ¥å£</h2><p><code>Lambda</code>è¡¨è¾¾å¼æ˜¯å¦‚ä½•åœ¨<code>java</code>çš„ç±»å‹ç³»ç»Ÿä¸­è¡¨ç¤ºçš„å‘¢ï¼Ÿæ¯ä¸€ä¸ª<code>lambda</code>è¡¨è¾¾å¼éƒ½å¯¹åº”ä¸€ä¸ªç±»å‹ï¼Œé€šå¸¸æ˜¯æ¥å£ç±»å‹ã€‚è€Œâ€œå‡½æ•°å¼æ¥å£â€æ˜¯æŒ‡ä»…ä»…åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œæ¯ä¸€ä¸ªè¯¥ç±»å‹çš„<code>lambda</code>è¡¨è¾¾å¼éƒ½ä¼šè¢«åŒ¹é…åˆ°è¿™ä¸ªæŠ½è±¡æ–¹æ³•ã€‚å› ä¸º é»˜è®¤æ–¹æ³• ä¸ç®—æŠ½è±¡æ–¹æ³•ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥ç»™ä½ çš„å‡½æ•°å¼æ¥å£æ·»åŠ é»˜è®¤æ–¹æ³•ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å°†<code>lambda</code>è¡¨è¾¾å¼å½“ä½œä»»æ„åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ç±»å‹ï¼Œç¡®ä¿ä½ çš„æ¥å£ä¸€å®šè¾¾åˆ°è¿™ä¸ªè¦æ±‚ï¼Œä½ åªéœ€è¦ç»™ä½ çš„æ¥å£æ·»åŠ  <code>@FunctionalInterface</code> æ³¨è§£ï¼Œç¼–è¯‘å™¨å¦‚æœå‘ç°ä½ æ ‡æ³¨äº†è¿™ä¸ªæ³¨è§£çš„æ¥å£æœ‰å¤šäºä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ—¶å€™ä¼šæŠ¥é”™çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Converter</span>&lt;F, T&gt; &#123;</span><br><span class="line">    T <span class="title function_">convert</span><span class="params">(F from)</span>;</span><br><span class="line">&#125;</span><br><span class="line">Converter&lt;String, Integer&gt; converter = (from) -&gt; Integer.valueOf(from);</span><br><span class="line"><span class="type">Integer</span> <span class="variable">converted</span> <span class="operator">=</span> converter.convert(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">System.out.println(converted);    <span class="comment">// 123</span></span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„å¦‚æœ<code>@FunctionalInterface</code>å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œä¸Šé¢çš„ä»£ç ä¹Ÿæ˜¯å¯¹çš„ã€‚</p>
<p>è¯‘è€…æ³¨:å°†<code>lambda</code>è¡¨è¾¾å¼æ˜ å°„åˆ°ä¸€ä¸ªå•æ–¹æ³•çš„æ¥å£ä¸Šï¼Œè¿™ç§åšæ³•åœ¨<code>Java 8</code>ä¹‹å‰å°±æœ‰åˆ«çš„è¯­è¨€å®ç°ï¼Œæ¯”å¦‚<code>Rhino JavaScript</code>è§£é‡Šå™¨ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°å‚æ•°æ¥æ”¶ä¸€ä¸ªå•æ–¹æ³•çš„æ¥å£è€Œä½ ä¼ é€’çš„æ˜¯ä¸€ä¸ª<code>function</code>ï¼Œ<code>Rhino</code> è§£é‡Šå™¨ä¼šè‡ªåŠ¨åšä¸€ä¸ªå•æ¥å£çš„å®ä¾‹åˆ°<code>function</code>çš„é€‚é…å™¨ï¼Œå…¸å‹çš„åº”ç”¨åœºæ™¯æœ‰ <code>org.w3c.dom.events.EventTarget</code> çš„<code>addEventListener</code> ç¬¬äºŒä¸ªå‚æ•° <code>EventListener</code>ã€‚</p>
<h2 id="å››ã€æ–¹æ³•ä¸æ„é€ å‡½æ•°å¼•ç”¨"><a href="#å››ã€æ–¹æ³•ä¸æ„é€ å‡½æ•°å¼•ç”¨" class="headerlink" title="å››ã€æ–¹æ³•ä¸æ„é€ å‡½æ•°å¼•ç”¨"></a>å››ã€æ–¹æ³•ä¸æ„é€ å‡½æ•°å¼•ç”¨</h2><p>å‰ä¸€èŠ‚ä¸­çš„ä»£ç è¿˜å¯ä»¥é€šè¿‡é™æ€æ–¹æ³•å¼•ç”¨æ¥è¡¨ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Converter&lt;String, Integer&gt; converter = Integer::valueOf;</span><br><span class="line"><span class="type">Integer</span> <span class="variable">converted</span> <span class="operator">=</span> converter.convert(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">System.out.println(converted);   <span class="comment">// 123</span></span><br></pre></td></tr></table></figure>
<p><code>Java 8</code> å…è®¸ä½ ä½¿ç”¨ <code>::</code> å…³é”®å­—æ¥ä¼ é€’æ–¹æ³•æˆ–è€…æ„é€ å‡½æ•°å¼•ç”¨ï¼Œä¸Šé¢çš„ä»£ç å±•ç¤ºäº†å¦‚ä½•å¼•ç”¨ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¼•ç”¨ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">converter = something::startsWith;</span><br><span class="line"><span class="type">String</span> <span class="variable">converted</span> <span class="operator">=</span> converter.convert(<span class="string">&quot;Java&quot;</span>);</span><br><span class="line">System.out.println(converted);    <span class="comment">// &quot;J&quot;</span></span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥çœ‹çœ‹æ„é€ å‡½æ•°æ˜¯å¦‚ä½•ä½¿ç”¨<code>::</code>å…³é”®å­—æ¥å¼•ç”¨çš„ï¼Œé¦–å…ˆæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåŒ…å«å¤šä¸ªæ„é€ å‡½æ•°çš„ç®€å•ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    String firstName;</span><br><span class="line">    String lastName;</span><br><span class="line">    </span><br><span class="line">    Person() &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    Person(String firstName, String lastName) &#123;</span><br><span class="line">        <span class="built_in">this</span>.firstName = firstName;</span><br><span class="line">        <span class="built_in">this</span>.lastName = lastName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬æŒ‡å®šä¸€ä¸ªç”¨æ¥åˆ›å»ºPersonå¯¹è±¡çš„å¯¹è±¡å·¥å‚æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonFactory</span>&lt;P <span class="keyword">extends</span> <span class="title class_">Person</span>&gt; &#123;</span><br><span class="line">    P <span class="title function_">create</span><span class="params">(String firstName, String lastName)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æ„é€ å‡½æ•°å¼•ç”¨æ¥å°†ä»–ä»¬å…³è”èµ·æ¥ï¼Œè€Œä¸æ˜¯å®ç°ä¸€ä¸ªå®Œæ•´çš„å·¥å‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">PersonFactory&lt;Person&gt; personFactory = Person::<span class="keyword">new</span>;</span><br><span class="line"><span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> personFactory.create(<span class="string">&quot;Peter&quot;</span>, <span class="string">&quot;Parker&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ <code>Person::new</code> æ¥è·å–<code>Person</code>ç±»æ„é€ å‡½æ•°çš„å¼•ç”¨ï¼Œ<code>Java</code>ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ ¹æ®<code>PersonFactory.create</code>æ–¹æ³•çš„ç­¾åæ¥é€‰æ‹©åˆé€‚çš„æ„é€ å‡½æ•°ã€‚</p>
<h2 id="äº”ã€Lambda-ä½œç”¨åŸŸ"><a href="#äº”ã€Lambda-ä½œç”¨åŸŸ" class="headerlink" title="äº”ã€Lambda ä½œç”¨åŸŸ"></a>äº”ã€Lambda ä½œç”¨åŸŸ</h2><p>åœ¨<code>lambda</code>è¡¨è¾¾å¼ä¸­è®¿é—®å¤–å±‚ä½œç”¨åŸŸå’Œè€ç‰ˆæœ¬çš„åŒ¿åå¯¹è±¡ä¸­çš„æ–¹å¼å¾ˆç›¸ä¼¼ã€‚ä½ å¯ä»¥ç›´æ¥è®¿é—®æ ‡è®°äº†<code>final</code>çš„å¤–å±‚å±€éƒ¨å˜é‡ï¼Œæˆ–è€…å®ä¾‹çš„å­—æ®µä»¥åŠé™æ€å˜é‡ã€‚</p>
<h2 id="å…­ã€è®¿é—®å±€éƒ¨å˜é‡"><a href="#å…­ã€è®¿é—®å±€éƒ¨å˜é‡" class="headerlink" title="å…­ã€è®¿é—®å±€éƒ¨å˜é‡"></a>å…­ã€è®¿é—®å±€éƒ¨å˜é‡</h2><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨<code>lambda</code>è¡¨è¾¾å¼ä¸­è®¿é—®å¤–å±‚çš„å±€éƒ¨å˜é‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">finalint</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">Converter&lt;Integer, String&gt; stringConverter = (from) -&gt; String.valueOf(from + num);</span><br><span class="line"></span><br><span class="line">stringConverter.convert(<span class="number">2</span>);     <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯å’ŒåŒ¿åå¯¹è±¡ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œçš„å˜é‡<code>num</code>å¯ä»¥ä¸ç”¨å£°æ˜ä¸º<code>final</code>ï¼Œè¯¥ä»£ç åŒæ ·æ­£ç¡®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">Converter&lt;Integer, String&gt; stringConverter = (from) -&gt; String.valueOf(from+ num);</span><br><span class="line"></span><br><span class="line">stringConverter.convert(<span class="number">2</span>);     <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>ä¸è¿‡è¿™é‡Œçš„<code>num</code>å¿…é¡»ä¸å¯è¢«åé¢çš„ä»£ç ä¿®æ”¹ï¼ˆå³éšæ€§çš„å…·æœ‰<code>final</code>çš„è¯­ä¹‰ï¼‰ï¼Œä¾‹å¦‚ä¸‹é¢çš„å°±æ— æ³•ç¼–è¯‘ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">Converter&lt;Integer, String&gt; stringConverter = (from) -&gt; String.valueOf(from+ num);</span><br><span class="line">num = <span class="number">3</span>;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>lambda</code>è¡¨è¾¾å¼ä¸­è¯•å›¾ä¿®æ”¹<code>num</code>åŒæ ·æ˜¯ä¸å…è®¸çš„ã€‚</p>
<h2 id="ä¸ƒã€è®¿é—®å¯¹è±¡å­—æ®µä¸é™æ€å˜é‡"><a href="#ä¸ƒã€è®¿é—®å¯¹è±¡å­—æ®µä¸é™æ€å˜é‡" class="headerlink" title="ä¸ƒã€è®¿é—®å¯¹è±¡å­—æ®µä¸é™æ€å˜é‡"></a>ä¸ƒã€è®¿é—®å¯¹è±¡å­—æ®µä¸é™æ€å˜é‡</h2><p>å’Œæœ¬åœ°å˜é‡ä¸åŒçš„æ˜¯ï¼Œ<code>lambda</code>å†…éƒ¨å¯¹äºå®ä¾‹çš„å­—æ®µä»¥åŠé™æ€å˜é‡æ˜¯å³å¯è¯»åˆå¯å†™ã€‚è¯¥è¡Œä¸ºå’ŒåŒ¿åå¯¹è±¡æ˜¯ä¸€è‡´çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Lambda4</span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> outerStaticNum;</span><br><span class="line">    <span class="type">int</span> outerNum;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testScopes</span><span class="params">()</span> &#123;</span><br><span class="line">        Converter&lt;Integer, String&gt; stringConverter1 = (from) -&gt; &#123;</span><br><span class="line">            outerNum = <span class="number">23</span>;</span><br><span class="line">            returnString.valueOf(from);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        Converter&lt;Integer, String&gt; stringConverter2 = (from) -&gt; &#123;</span><br><span class="line">            outerStaticNum = <span class="number">72</span>;</span><br><span class="line">            returnString.valueOf(from);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å…«ã€è®¿é—®æ¥å£çš„é»˜è®¤æ–¹æ³•"><a href="#å…«ã€è®¿é—®æ¥å£çš„é»˜è®¤æ–¹æ³•" class="headerlink" title="å…«ã€è®¿é—®æ¥å£çš„é»˜è®¤æ–¹æ³•"></a>å…«ã€è®¿é—®æ¥å£çš„é»˜è®¤æ–¹æ³•</h2><p>è¿˜è®°å¾—ç¬¬ä¸€èŠ‚ä¸­çš„<code>formula</code>ä¾‹å­ä¹ˆï¼Œæ¥å£<code>Formula</code>å®šä¹‰äº†ä¸€ä¸ªé»˜è®¤æ–¹æ³•<code>sqrt</code>å¯ä»¥ç›´æ¥è¢«<code>formula</code>çš„å®ä¾‹åŒ…æ‹¬åŒ¿åå¯¹è±¡è®¿é—®åˆ°ï¼Œä½†æ˜¯åœ¨<code>lambda</code>è¡¨è¾¾å¼ä¸­è¿™ä¸ªæ˜¯ä¸è¡Œçš„ã€‚<code>Lambda</code>è¡¨è¾¾å¼ä¸­æ˜¯æ— æ³•è®¿é—®åˆ°é»˜è®¤æ–¹æ³•çš„ï¼Œä»¥ä¸‹ä»£ç å°†æ— æ³•ç¼–è¯‘ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Formula</span> <span class="variable">formula</span> <span class="operator">=</span> (a) -&gt; sqrt( a * <span class="number">100</span>);</span><br><span class="line">Built-inFunctionalInterfaces</span><br></pre></td></tr></table></figure>
<p><code>JDK 1.8 API</code>åŒ…å«äº†å¾ˆå¤šå†…å»ºçš„å‡½æ•°å¼æ¥å£ï¼Œåœ¨è€<code>Java</code>ä¸­å¸¸ç”¨åˆ°çš„æ¯”å¦‚<code>Comparator</code>æˆ–è€…<code>Runnable</code>æ¥å£ï¼Œè¿™äº›æ¥å£éƒ½å¢åŠ äº†<code>@FunctionalInterface</code>æ³¨è§£ä»¥ä¾¿èƒ½ç”¨åœ¨<code>lambda</code>ä¸Šã€‚<code>Java 8 API</code>åŒæ ·è¿˜æä¾›äº†å¾ˆå¤šå…¨æ–°çš„å‡½æ•°å¼æ¥å£æ¥è®©å·¥ä½œæ›´åŠ æ–¹ä¾¿ï¼Œæœ‰ä¸€äº›æ¥å£æ˜¯æ¥è‡ª<code>Google Guava</code>åº“é‡Œçš„ï¼Œå³ä¾¿ä½ å¯¹è¿™äº›å¾ˆç†Ÿæ‚‰äº†ï¼Œè¿˜æ˜¯æœ‰å¿…è¦çœ‹çœ‹è¿™äº›æ˜¯å¦‚ä½•æ‰©å±•åˆ°<code>lambda</code>ä¸Šä½¿ç”¨çš„ã€‚</p>
<h3 id="Predicateæ¥å£"><a href="#Predicateæ¥å£" class="headerlink" title="Predicateæ¥å£"></a>Predicateæ¥å£</h3><p><code>Predicate</code> æ¥å£åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›<code>boolean</code>ç±»å‹ã€‚è¯¥æ¥å£åŒ…å«å¤šç§é»˜è®¤æ–¹æ³•æ¥å°†<code>Predicate</code>ç»„åˆæˆå…¶ä»–å¤æ‚çš„é€»è¾‘ï¼ˆæ¯”å¦‚ï¼šä¸ï¼Œæˆ–ï¼Œéï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Predicate&lt;String&gt; predicate = (s) -&gt; s.length() &gt; <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">predicate.test(<span class="string">&quot;foo&quot;</span>);              <span class="comment">// true</span></span><br><span class="line">predicate.negate().test(<span class="string">&quot;foo&quot;</span>);     <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">Predicate&lt;Boolean&gt; nonNull = Objects::nonNull;</span><br><span class="line">Predicate&lt;Boolean&gt; isNull = Objects::isNull;</span><br><span class="line"></span><br><span class="line">Predicate&lt;String&gt; isEmpty = String::isEmpty;</span><br><span class="line">Predicate&lt;String&gt; isNotEmpty = isEmpty.negate();</span><br></pre></td></tr></table></figure>

<h3 id="Function-æ¥å£"><a href="#Function-æ¥å£" class="headerlink" title="Function æ¥å£"></a>Function æ¥å£</h3><p><code>Function</code> æ¥å£æœ‰ä¸€ä¸ªå‚æ•°å¹¶ä¸”è¿”å›ä¸€ä¸ªç»“æœï¼Œå¹¶é™„å¸¦äº†ä¸€äº›å¯ä»¥å’Œå…¶ä»–å‡½æ•°ç»„åˆçš„é»˜è®¤æ–¹æ³•<code>ï¼ˆcompose, andThenï¼‰</code>:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Function&lt;String, Integer&gt; toInteger = Integer::valueOf;</span><br><span class="line">Function&lt;String, String&gt; backToString = toInteger.andThen(String::valueOf);</span><br><span class="line"></span><br><span class="line">backToString.apply(<span class="string">&quot;123&quot;</span>);     <span class="comment">// &quot;123&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Supplier-æ¥å£"><a href="#Supplier-æ¥å£" class="headerlink" title="Supplier æ¥å£"></a>Supplier æ¥å£</h3><p><code>Supplier</code> æ¥å£è¿”å›ä¸€ä¸ªä»»æ„èŒƒå‹çš„å€¼ï¼Œå’Œ<code>Function</code>æ¥å£ä¸åŒçš„æ˜¯è¯¥æ¥å£æ²¡æœ‰ä»»ä½•å‚æ•°:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Supplier&lt;Person&gt; personSupplier = Person::<span class="keyword">new</span>;</span><br><span class="line">personSupplier.get();   <span class="comment">// new Person</span></span><br></pre></td></tr></table></figure>
<h3 id="Consumer-æ¥å£"><a href="#Consumer-æ¥å£" class="headerlink" title="Consumer æ¥å£"></a>Consumer æ¥å£</h3><p><code>Consumer</code> æ¥å£è¡¨ç¤ºæ‰§è¡Œåœ¨å•ä¸ªå‚æ•°ä¸Šçš„æ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Consumer&lt;Person&gt; greeter = (p) -&gt; System.out.println(<span class="string">&quot;Hello, &quot;</span>+ p.firstName);</span><br><span class="line">greeter.accept(newPerson(<span class="string">&quot;Luke&quot;</span>, <span class="string">&quot;Skywalker&quot;</span>));</span><br></pre></td></tr></table></figure>
<h3 id="Comparator-æ¥å£"><a href="#Comparator-æ¥å£" class="headerlink" title="Comparator æ¥å£"></a>Comparator æ¥å£</h3><p><code>Comparator</code> æ˜¯è€<code>Java</code>ä¸­çš„ç»å…¸æ¥å£ï¼Œ <code>Java 8</code>åœ¨æ­¤ä¹‹ä¸Šæ·»åŠ äº†å¤šç§é»˜è®¤æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Comparator&lt;Person&gt; comparator = (p1, p2) -&gt; p1.firstName.compareTo(p2.firstName);</span><br><span class="line"></span><br><span class="line"><span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> newPerson(<span class="string">&quot;John&quot;</span>, <span class="string">&quot;Doe&quot;</span>);</span><br><span class="line"><span class="type">Person</span> <span class="variable">p2</span> <span class="operator">=</span> newPerson(<span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Wonderland&quot;</span>);</span><br><span class="line"></span><br><span class="line">comparator.compare(p1, p2);             <span class="comment">// &gt; 0</span></span><br><span class="line">comparator.reversed().compare(p1, p2);  <span class="comment">// &lt; 0</span></span><br></pre></td></tr></table></figure>
<h3 id="Optional-æ¥å£"><a href="#Optional-æ¥å£" class="headerlink" title="Optional æ¥å£"></a>Optional æ¥å£</h3><p><code>Optional</code> ä¸æ˜¯å‡½æ•°æ˜¯æ¥å£ï¼Œè¿™æ˜¯ä¸ªç”¨æ¥é˜²æ­¢<code>NullPointerException</code>å¼‚å¸¸çš„è¾…åŠ©ç±»å‹ï¼Œè¿™æ˜¯ä¸‹ä¸€èŠ‚ä¸­å°†è¦ç”¨åˆ°çš„é‡è¦æ¦‚å¿µï¼Œç°åœ¨å…ˆç®€å•çš„çœ‹çœ‹è¿™ä¸ªæ¥å£èƒ½å¹²ä»€ä¹ˆ:</p>
<p><code>Optional</code> è¢«å®šä¹‰ä¸ºä¸€ä¸ªç®€å•çš„å®¹å™¨ï¼Œå…¶å€¼å¯èƒ½æ˜¯<code>null</code>æˆ–è€…ä¸æ˜¯<code>null</code>ã€‚åœ¨<code>Java 8</code>ä¹‹å‰ä¸€èˆ¬æŸä¸ªå‡½æ•°åº”è¯¥è¿”å›éç©ºå¯¹è±¡ä½†æ˜¯å¶å°”å´å¯èƒ½è¿”å›äº†<code>null</code>ï¼Œè€Œåœ¨<code>Java 8</code>ä¸­ï¼Œä¸æ¨èä½ è¿”å›<code>null</code>è€Œæ˜¯è¿”å›<code>Optional</code>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional&lt;String&gt; optional = Optional.of(<span class="string">&quot;bam&quot;</span>);</span><br><span class="line"></span><br><span class="line">optional.isPresent();           <span class="comment">// true</span></span><br><span class="line">optional.get();                 <span class="comment">// &quot;bam&quot;</span></span><br><span class="line">optional.orElse(<span class="string">&quot;fallback&quot;</span>);    <span class="comment">// &quot;bam&quot;</span></span><br><span class="line"></span><br><span class="line">optional.ifPresent((s) -&gt; System.out.println(s.charAt(<span class="number">0</span>)));     <span class="comment">// &quot;b&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="Stream-æ¥å£"><a href="#Stream-æ¥å£" class="headerlink" title="Stream æ¥å£"></a>Stream æ¥å£</h3><p><code>java.util.Stream</code> è¡¨ç¤ºèƒ½åº”ç”¨åœ¨ä¸€ç»„å…ƒç´ ä¸Šä¸€æ¬¡æ‰§è¡Œçš„æ“ä½œåºåˆ—ã€‚<code>Stream</code> æ“ä½œåˆ†ä¸ºä¸­é—´æ“ä½œæˆ–è€…æœ€ç»ˆæ“ä½œä¸¤ç§ï¼Œæœ€ç»ˆæ“ä½œè¿”å›ä¸€ç‰¹å®šç±»å‹çš„è®¡ç®—ç»“æœï¼Œè€Œä¸­é—´æ“ä½œè¿”å›<code>Stream</code>æœ¬èº«ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å°†å¤šä¸ªæ“ä½œä¾æ¬¡ä¸²èµ·æ¥ã€‚<code>Stream</code> çš„åˆ›å»ºéœ€è¦æŒ‡å®šä¸€ä¸ªæ•°æ®æºï¼Œæ¯”å¦‚ <code>java.util.Collection</code> çš„å­ç±»ï¼Œ<code>List</code>æˆ–è€…<code>Set</code>ï¼Œ <code>Map</code>ä¸æ”¯æŒã€‚<code>Stream</code>çš„æ“ä½œå¯ä»¥ä¸²è¡Œæ‰§è¡Œæˆ–è€…å¹¶è¡Œæ‰§è¡Œã€‚</p>
<p>é¦–å…ˆçœ‹çœ‹<code>Stream</code>æ˜¯æ€ä¹ˆç”¨ï¼Œé¦–å…ˆåˆ›å»ºå®ä¾‹ä»£ç çš„ç”¨åˆ°çš„æ•°æ®<code>List</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; stringCollection = newArrayList&lt;&gt;();</span><br><span class="line">stringCollection.add(<span class="string">&quot;ddd2&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;aaa2&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;bbb1&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;aaa1&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;bbb3&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;bbb2&quot;</span>);</span><br><span class="line">stringCollection.add(<span class="string">&quot;ddd1&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><code>Java 8</code>æ‰©å±•äº†é›†åˆç±»ï¼Œå¯ä»¥é€šè¿‡ <code>Collection.stream()</code> æˆ–è€… <code>Collection.parallelStream()</code> æ¥åˆ›å»ºä¸€ä¸ª<code>Stream</code>ã€‚ä¸‹é¢å‡ èŠ‚å°†è¯¦ç»†è§£é‡Šå¸¸ç”¨çš„<code>Stream</code>æ“ä½œï¼š</p>
<h4 id="Filter-è¿‡æ»¤"><a href="#Filter-è¿‡æ»¤" class="headerlink" title="Filter è¿‡æ»¤"></a>Filter è¿‡æ»¤</h4><p>è¿‡æ»¤é€šè¿‡ä¸€ä¸ª<code>predicate</code>æ¥å£æ¥è¿‡æ»¤å¹¶åªä¿ç•™ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œè¯¥æ“ä½œå±äºä¸­é—´æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨è¿‡æ»¤åçš„ç»“æœæ¥åº”ç”¨å…¶ä»–<code>Stream</code>æ“ä½œï¼ˆæ¯”å¦‚<code>forEach</code>ï¼‰ã€‚<code>forEach</code>éœ€è¦ä¸€ä¸ªå‡½æ•°æ¥å¯¹è¿‡æ»¤åçš„å…ƒç´ ä¾æ¬¡æ‰§è¡Œã€‚<code>forEach</code>æ˜¯ä¸€ä¸ªæœ€ç»ˆæ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½åœ¨<code>forEach</code>ä¹‹åæ¥æ‰§è¡Œå…¶ä»–<code>Stream</code>æ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// &quot;aaa2&quot;, &quot;aaa1&quot;</span></span><br><span class="line">stringCollection.stream().filter((s) -&gt; s.startsWith(<span class="string">&quot;a&quot;</span>)).forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<h4 id="Sort-æ’åº"><a href="#Sort-æ’åº" class="headerlink" title="Sort æ’åº"></a>Sort æ’åº</h4><p>æ’åºæ˜¯ä¸€ä¸ªä¸­é—´æ“ä½œï¼Œè¿”å›çš„æ˜¯æ’åºå¥½åçš„<code>Stream</code>ã€‚å¦‚æœä½ ä¸æŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰çš„<code>Comparator</code>åˆ™ä¼šä½¿ç”¨é»˜è®¤æ’åºã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// &quot;aaa1&quot;, &quot;aaa2&quot;</span></span><br><span class="line">stringCollection.stream().sorted().filter((s) -&gt; s.startsWith(<span class="string">&quot;a&quot;</span>)).forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ’åºåªåˆ›å»ºäº†ä¸€ä¸ªæ’åˆ—å¥½åçš„<code>Stream</code>ï¼Œè€Œä¸ä¼šå½±å“åŸæœ‰çš„æ•°æ®æºï¼Œæ’åºä¹‹ååŸæ•°æ®<code>stringCollection</code>æ˜¯ä¸ä¼šè¢«ä¿®æ”¹çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ddd2, aaa2, bbb1, aaa1, bbb3, ccc, bbb2, ddd1</span></span><br><span class="line">System.out.println(stringCollection);</span><br></pre></td></tr></table></figure>
<p><code>Map</code> æ˜ å°„ä¸­é—´æ“ä½œ<code>map</code>ä¼šå°†å…ƒç´ æ ¹æ®æŒ‡å®šçš„<code>Function</code>æ¥å£æ¥ä¾æ¬¡å°†å…ƒç´ è½¬æˆå¦å¤–çš„å¯¹è±¡ï¼Œä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™å­—ç¬¦ä¸²ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡<code>map</code>æ¥å°†å¯¹è±¡è½¬æ¢æˆå…¶ä»–ç±»å‹ï¼Œ<code>map</code>è¿”å›çš„<code>Stream</code>ç±»å‹æ˜¯æ ¹æ®ä½ <code>map</code>ä¼ é€’è¿›å»çš„å‡½æ•°çš„è¿”å›å€¼å†³å®šçš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// &quot;DDD2&quot;, &quot;DDD1&quot;, &quot;CCC&quot;, &quot;BBB3&quot;, &quot;BBB2&quot;, &quot;AAA2&quot;, &quot;AAA1&quot;</span></span><br><span class="line">stringCollection.stream().map(String::toUpperCase)</span><br><span class="line">                         .sorted((a, b) -&gt; b.compareTo(a)).forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<h4 id="Match-åŒ¹é…"><a href="#Match-åŒ¹é…" class="headerlink" title="Match åŒ¹é…"></a>Match åŒ¹é…</h4><p><code>Stream</code>æä¾›äº†å¤šç§åŒ¹é…æ“ä½œï¼Œå…è®¸æ£€æµ‹æŒ‡å®šçš„<code>Predicate</code>æ˜¯å¦åŒ¹é…æ•´ä¸ª<code>Stream</code>ã€‚æ‰€æœ‰çš„åŒ¹é…æ“ä½œéƒ½æ˜¯æœ€ç»ˆæ“ä½œï¼Œå¹¶è¿”å›ä¸€ä¸ª<code>boolean</code>ç±»å‹çš„å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">anyStartsWithA</span> <span class="operator">=</span> stringCollection.stream().anyMatch((s) -&gt; s.startsWith(<span class="string">&quot;a&quot;</span>));</span><br><span class="line">System.out.println(anyStartsWithA);      <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="variable">allStartsWithA</span> <span class="operator">=</span> stringCollection.stream().allMatch((s) -&gt; s.startsWith(<span class="string">&quot;a&quot;</span>));</span><br><span class="line">System.out.println(allStartsWithA);      <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="variable">noneStartsWithZ</span> <span class="operator">=</span> stringCollection.stream().noneMatch((s) -&gt; s.startsWith(<span class="string">&quot;z&quot;</span>));</span><br><span class="line">System.out.println(noneStartsWithZ);      <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h4 id="Count-è®¡æ•°"><a href="#Count-è®¡æ•°" class="headerlink" title="Count è®¡æ•°"></a>Count è®¡æ•°</h4><p>è®¡æ•°æ˜¯ä¸€ä¸ªæœ€ç»ˆæ“ä½œï¼Œè¿”å›<code>Stream</code>ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œè¿”å›å€¼ç±»å‹æ˜¯<code>long</code>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">startsWithB</span> <span class="operator">=</span> stringCollection.stream().filter((s) -&gt; s.startsWith(<span class="string">&quot;b&quot;</span>)).count();</span><br><span class="line">System.out.println(startsWithB);    <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<h4 id="Reduce-è§„çº¦"><a href="#Reduce-è§„çº¦" class="headerlink" title="Reduce è§„çº¦"></a>Reduce è§„çº¦</h4><p>è¿™æ˜¯ä¸€ä¸ªæœ€ç»ˆæ“ä½œï¼Œå…è®¸é€šè¿‡æŒ‡å®šçš„å‡½æ•°æ¥å°†<code>stream</code>ä¸­çš„å¤šä¸ªå…ƒç´ è§„çº¦ä¸ºä¸€ä¸ªå…ƒç´ ï¼Œè§„è¶Šåçš„ç»“æœæ˜¯é€šè¿‡<code>Optional</code>æ¥å£è¡¨ç¤ºçš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional&lt;String&gt; reduced = stringCollection.stream().sorted().reduce((s1, s2) -&gt; s1 + <span class="string">&quot;#&quot;</span>+ s2);</span><br><span class="line">reduced.ifPresent(System.out::println);</span><br><span class="line"><span class="comment">// &quot;aaa1#aaa2#bbb1#bbb2#bbb3#ccc#ddd1#ddd2&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="å¹¶è¡ŒStreams"><a href="#å¹¶è¡ŒStreams" class="headerlink" title="å¹¶è¡ŒStreams"></a>å¹¶è¡ŒStreams</h4><p>å‰é¢æåˆ°è¿‡<code>Stream</code>æœ‰<strong>ä¸²è¡Œ</strong>å’Œ<strong>å¹¶è¡Œ</strong>ä¸¤ç§ï¼Œ<code>ä¸²è¡ŒStream</code>ä¸Šçš„æ“ä½œæ˜¯åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­ä¾æ¬¡å®Œæˆï¼Œè€Œ<code>å¹¶è¡ŒStream</code>åˆ™æ˜¯åœ¨å¤šä¸ªçº¿ç¨‹ä¸ŠåŒæ—¶æ‰§è¡Œã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†æ˜¯å¦‚ä½•é€šè¿‡<code>å¹¶è¡ŒStream</code>æ¥æå‡æ€§èƒ½ï¼š</p>
<p>é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ²¡æœ‰é‡å¤å…ƒç´ çš„å¤§è¡¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">1000000</span>;</span><br><span class="line">List&lt;String&gt; values = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(max);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; max; i++) &#123;</span><br><span class="line">    <span class="type">UUID</span> <span class="variable">uuid</span> <span class="operator">=</span> UUID.randomUUID();</span><br><span class="line">    values.add(uuid.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬è®¡ç®—ä¸€ä¸‹æ’åºè¿™ä¸ªStreamè¦è€—æ—¶å¤šä¹…ï¼Œä¸²è¡Œæ’åºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">t0</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> values.stream().sorted().count();</span><br><span class="line">System.out.println(count);</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">t1</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">millis</span> <span class="operator">=</span> TimeUnit.NANOSECONDS.toMillis(t1 - t0);</span><br><span class="line">System.out.println(String.format(<span class="string">&quot;sequential sort took: %d ms&quot;</span>, millis));</span><br><span class="line"><span class="comment">// ä¸²è¡Œè€—æ—¶: 899 ms</span></span><br></pre></td></tr></table></figure>
<p>å¹¶è¡Œæ’åºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">t0</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> values.parallelStream().sorted().count();</span><br><span class="line">System.out.println(count);</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">t1</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">millis</span> <span class="operator">=</span> TimeUnit.NANOSECONDS.toMillis(t1 - t0);</span><br><span class="line">System.out.println(String.format(<span class="string">&quot;parallel sort took: %d ms&quot;</span>, millis));</span><br><span class="line"><span class="comment">// å¹¶è¡Œæ’åºè€—æ—¶: 472 ms ä¸Šé¢ä¸¤ä¸ªä»£ç å‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯å¹¶è¡Œç‰ˆçš„å¿«äº†50%ä¹‹å¤šï¼Œå”¯ä¸€éœ€è¦åšçš„æ”¹åŠ¨å°±æ˜¯å°†stream()æ”¹ä¸ºparallelStream()ã€‚</span></span><br></pre></td></tr></table></figure>
<h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><p>å‰é¢æåˆ°è¿‡ï¼Œ<code>Map</code>ç±»å‹ä¸æ”¯æŒ<code>stream</code>ï¼Œä¸è¿‡<code>Map</code>æä¾›äº†ä¸€äº›æ–°çš„æœ‰ç”¨çš„æ–¹æ³•æ¥å¤„ç†ä¸€äº›æ—¥å¸¸ä»»åŠ¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Map&lt;Integer, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    map.putIfAbsent(i, <span class="string">&quot;val&quot;</span>+ i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">map.forEach((id, val) -&gt; System.out.println(val));</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä»£ç å¾ˆå®¹æ˜“ç†è§£ï¼Œ <code>putIfAbsent</code> ä¸éœ€è¦æˆ‘ä»¬åšé¢å¤–çš„å­˜åœ¨æ€§æ£€æŸ¥ï¼Œè€Œ<code>forEach</code>åˆ™æ¥æ”¶ä¸€ä¸ª<code>Consumer</code>æ¥å£æ¥å¯¹<code>map</code>é‡Œçš„æ¯ä¸€ä¸ªé”®å€¼å¯¹è¿›è¡Œæ“ä½œã€‚<br>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†<code>map</code>ä¸Šçš„å…¶ä»–æœ‰ç”¨çš„å‡½æ•°ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">map.computeIfPresent(<span class="number">3</span>, (num, val) -&gt; val + num);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// val33</span></span><br><span class="line"></span><br><span class="line">map.computeIfPresent(<span class="number">9</span>, (num, val) -&gt; <span class="literal">null</span>);</span><br><span class="line">map.containsKey(<span class="number">9</span>);     <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">map.computeIfAbsent(<span class="number">23</span>, num -&gt; <span class="string">&quot;val&quot;</span>+ num);</span><br><span class="line">map.containsKey(<span class="number">23</span>);    <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">map.computeIfAbsent(<span class="number">3</span>, num -&gt; <span class="string">&quot;bam&quot;</span>);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// val33</span></span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥å±•ç¤ºå¦‚ä½•åœ¨<code>Map</code>é‡Œåˆ é™¤ä¸€ä¸ªé”®å€¼å…¨éƒ½åŒ¹é…çš„é¡¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">map.remove(<span class="number">3</span>, <span class="string">&quot;val3&quot;</span>);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// val33</span></span><br><span class="line"></span><br><span class="line">map.remove(<span class="number">3</span>, <span class="string">&quot;val33&quot;</span>);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// null</span></span><br></pre></td></tr></table></figure>
<p>å¦å¤–ä¸€ä¸ªæœ‰ç”¨çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">map.getOrDefault(<span class="number">42</span>, <span class="string">&quot;not found&quot;</span>);  <span class="comment">// not found</span></span><br></pre></td></tr></table></figure>
<p>å¯¹<code>Map</code>çš„å…ƒç´ åšåˆå¹¶ä¹Ÿå˜å¾—å¾ˆå®¹æ˜“äº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">map.merge(<span class="number">9</span>, <span class="string">&quot;val9&quot;</span>, (value, newValue) -&gt; value.concat(newValue));</span><br><span class="line">map.get(<span class="number">9</span>);             <span class="comment">// val9</span></span><br><span class="line"></span><br><span class="line">map.merge(<span class="number">9</span>, <span class="string">&quot;concat&quot;</span>, (value, newValue) -&gt; value.concat(newValue));</span><br><span class="line">map.get(<span class="number">9</span>);             <span class="comment">// val9concat</span></span><br></pre></td></tr></table></figure>
<p><code>Merge</code>åšçš„äº‹æƒ…æ˜¯å¦‚æœé”®åä¸å­˜åœ¨åˆ™æ’å…¥ï¼Œå¦åˆ™åˆ™å¯¹åŸé”®å¯¹åº”çš„å€¼åšåˆå¹¶æ“ä½œå¹¶é‡æ–°æ’å…¥åˆ°<code>map</code>ä¸­ã€‚</p>
<h2 id="ä¹ã€Date-API"><a href="#ä¹ã€Date-API" class="headerlink" title="ä¹ã€Date API"></a>ä¹ã€Date API</h2><p><code>Java 8</code> åœ¨åŒ…<code>java.time</code>ä¸‹åŒ…å«äº†ä¸€ç»„å…¨æ–°çš„æ—¶é—´æ—¥æœŸ<code>API</code>ã€‚æ–°çš„æ—¥æœŸ<code>API</code>å’Œå¼€æºçš„<code>Joda-Time</code>åº“å·®ä¸å¤šï¼Œä½†åˆä¸å®Œå…¨ä¸€æ ·ï¼Œä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†è¿™ç»„æ–°<code>API</code>é‡Œæœ€é‡è¦çš„ä¸€äº›éƒ¨åˆ†ï¼š</p>
<h3 id="Clock-æ—¶é’Ÿ"><a href="#Clock-æ—¶é’Ÿ" class="headerlink" title="Clock æ—¶é’Ÿ"></a>Clock æ—¶é’Ÿ</h3><p><code>Clock</code>ç±»æä¾›äº†è®¿é—®å½“å‰æ—¥æœŸå’Œæ—¶é—´çš„æ–¹æ³•ï¼Œ<code>Clock</code>æ˜¯æ—¶åŒºæ•æ„Ÿçš„ï¼Œå¯ä»¥ç”¨æ¥å–ä»£ <code>System.currentTimeMillis()</code> æ¥è·å–å½“å‰çš„å¾®ç§’æ•°ã€‚æŸä¸€ä¸ªç‰¹å®šçš„æ—¶é—´ç‚¹ä¹Ÿå¯ä»¥ä½¿ç”¨<code>Instant</code>ç±»æ¥è¡¨ç¤ºï¼Œ<code>Instant</code>ç±»ä¹Ÿå¯ä»¥ç”¨æ¥åˆ›å»ºè€çš„<code>java.util.Date</code>å¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Clock</span> <span class="variable">clock</span> <span class="operator">=</span> Clock.systemDefaultZone();</span><br><span class="line"><span class="type">long</span> <span class="variable">millis</span> <span class="operator">=</span> clock.millis();</span><br><span class="line"></span><br><span class="line"><span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> clock.instant();</span><br><span class="line"><span class="type">Date</span> <span class="variable">legacyDate</span> <span class="operator">=</span> Date.from(instant);   <span class="comment">// legacy java.util.Date</span></span><br></pre></td></tr></table></figure>

<h3 id="Timezones-æ—¶åŒº"><a href="#Timezones-æ—¶åŒº" class="headerlink" title="Timezones æ—¶åŒº"></a>Timezones æ—¶åŒº</h3><p>åœ¨æ–°<code>API</code>ä¸­æ—¶åŒºä½¿ç”¨<code>ZoneId</code>æ¥è¡¨ç¤ºã€‚æ—¶åŒºå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨é™æ€æ–¹æ³•<code>of</code>æ¥è·å–åˆ°ã€‚ æ—¶åŒºå®šä¹‰äº†åˆ°<code>UTS</code>æ—¶é—´çš„æ—¶é—´å·®ï¼Œåœ¨<code>Instant</code>æ—¶é—´ç‚¹å¯¹è±¡åˆ°æœ¬åœ°æ—¥æœŸå¯¹è±¡ä¹‹é—´è½¬æ¢çš„æ—¶å€™æ˜¯æå…¶é‡è¦çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(ZoneId.getAvailableZoneIds());</span><br><span class="line"><span class="comment">// prints all available timezone ids</span></span><br><span class="line"></span><br><span class="line"><span class="type">ZoneId</span> <span class="variable">zone1</span> <span class="operator">=</span> ZoneId.of(<span class="string">&quot;Europe/Berlin&quot;</span>);</span><br><span class="line"><span class="type">ZoneId</span> <span class="variable">zone2</span> <span class="operator">=</span> ZoneId.of(<span class="string">&quot;Brazil/East&quot;</span>);</span><br><span class="line">System.out.println(zone1.getRules());</span><br><span class="line">System.out.println(zone2.getRules());</span><br><span class="line"><span class="comment">// ZoneRules[currentStandardOffset=+01:00]</span></span><br><span class="line"><span class="comment">// ZoneRules[currentStandardOffset=-03:00]</span></span><br></pre></td></tr></table></figure>

<h3 id="LocalTime-æœ¬åœ°æ—¶é—´"><a href="#LocalTime-æœ¬åœ°æ—¶é—´" class="headerlink" title="LocalTime æœ¬åœ°æ—¶é—´"></a>LocalTime æœ¬åœ°æ—¶é—´</h3><p><code>LocalTime</code> å®šä¹‰äº†ä¸€ä¸ªæ²¡æœ‰æ—¶åŒºä¿¡æ¯çš„æ—¶é—´ï¼Œä¾‹å¦‚ æ™šä¸Š10ç‚¹ï¼Œæˆ–è€… 17:30:15ã€‚ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨å‰é¢ä»£ç åˆ›å»ºçš„æ—¶åŒºåˆ›å»ºäº†ä¸¤ä¸ªæœ¬åœ°æ—¶é—´ã€‚ä¹‹åæ¯”è¾ƒæ—¶é—´å¹¶ä»¥å°æ—¶å’Œåˆ†é’Ÿä¸ºå•ä½è®¡ç®—ä¸¤ä¸ªæ—¶é—´çš„æ—¶é—´å·®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">LocalTime</span> <span class="variable">now1</span> <span class="operator">=</span> LocalTime.now(zone1);</span><br><span class="line"><span class="type">LocalTime</span> <span class="variable">now2</span> <span class="operator">=</span> LocalTime.now(zone2);</span><br><span class="line"></span><br><span class="line">System.out.println(now1.isBefore(now2));  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">hoursBetween</span> <span class="operator">=</span> ChronoUnit.HOURS.between(now1, now2);</span><br><span class="line"><span class="type">long</span> <span class="variable">minutesBetween</span> <span class="operator">=</span> ChronoUnit.MINUTES.between(now1, now2);</span><br><span class="line"></span><br><span class="line">System.out.println(hoursBetween);       <span class="comment">// -3</span></span><br><span class="line">System.out.println(minutesBetween);     <span class="comment">// -239</span></span><br></pre></td></tr></table></figure>
<p><code>LocalTime</code> æä¾›äº†å¤šç§å·¥å‚æ–¹æ³•æ¥ç®€åŒ–å¯¹è±¡çš„åˆ›å»ºï¼ŒåŒ…æ‹¬è§£ææ—¶é—´å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">LocalTime</span> <span class="variable">late</span> <span class="operator">=</span> LocalTime.of(<span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>);</span><br><span class="line">System.out.println(late);       <span class="comment">// 23:59:59</span></span><br><span class="line"></span><br><span class="line"><span class="type">DateTimeFormatter</span> <span class="variable">germanFormatter</span> <span class="operator">=</span> DateTimeFormatter.ofLocalizedTime(FormatStyle.SHORT).withLocale(Locale.GERMAN);</span><br><span class="line"></span><br><span class="line"><span class="type">LocalTime</span> <span class="variable">leetTime</span> <span class="operator">=</span> LocalTime.parse(<span class="string">&quot;13:37&quot;</span>, germanFormatter);</span><br><span class="line">System.out.println(leetTime);   <span class="comment">// 13:37</span></span><br></pre></td></tr></table></figure>
<h3 id="LocalDate-æœ¬åœ°æ—¥æœŸ"><a href="#LocalDate-æœ¬åœ°æ—¥æœŸ" class="headerlink" title="LocalDate æœ¬åœ°æ—¥æœŸ"></a>LocalDate æœ¬åœ°æ—¥æœŸ</h3><p><code>LocalDate</code> è¡¨ç¤ºäº†ä¸€ä¸ªç¡®åˆ‡çš„æ—¥æœŸï¼Œæ¯”å¦‚ 2014-03-11ã€‚è¯¥å¯¹è±¡å€¼æ˜¯ä¸å¯å˜çš„ï¼Œç”¨èµ·æ¥å’Œ<code>LocalTime</code>åŸºæœ¬ä¸€è‡´ã€‚ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•ç»™<code>Date</code>å¯¹è±¡åŠ å‡å¤©&#x2F;æœˆ&#x2F;å¹´ã€‚å¦å¤–è¦æ³¨æ„çš„æ˜¯è¿™äº›å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œæ“ä½œè¿”å›çš„æ€»æ˜¯ä¸€ä¸ªæ–°å®ä¾‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">LocalDate</span> <span class="variable">today</span> <span class="operator">=</span> LocalDate.now();</span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">tomorrow</span> <span class="operator">=</span> today.plus(<span class="number">1</span>, ChronoUnit.DAYS);</span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">yesterday</span> <span class="operator">=</span> tomorrow.minusDays(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">independenceDay</span> <span class="operator">=</span> LocalDate.of(<span class="number">2014</span>, Month.JULY, <span class="number">4</span>);</span><br><span class="line"><span class="type">DayOfWeek</span> <span class="variable">dayOfWeek</span> <span class="operator">=</span> independenceDay.getDayOfWeek();</span><br><span class="line"></span><br><span class="line">System.out.println(dayOfWeek);    <span class="comment">// FRIDAY</span></span><br></pre></td></tr></table></figure>
<p>ä»å­—ç¬¦ä¸²è§£æä¸€ä¸ª<code>LocalDate</code>ç±»å‹å’Œè§£æ<code>LocalTime</code>ä¸€æ ·ç®€å•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">DateTimeFormatter</span> <span class="variable">germanFormatter</span> <span class="operator">=</span> DateTimeFormatter.ofLocalizedDate(FormatStyle.MEDIUM).withLocale(Locale.GERMAN);</span><br><span class="line"></span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">xmas</span> <span class="operator">=</span> LocalDate.parse(<span class="string">&quot;24.12.2014&quot;</span>, germanFormatter);</span><br><span class="line">System.out.println(xmas);   <span class="comment">// 2014-12-24</span></span><br></pre></td></tr></table></figure>
<h3 id="LocalDateTime-æœ¬åœ°æ—¥æœŸæ—¶é—´"><a href="#LocalDateTime-æœ¬åœ°æ—¥æœŸæ—¶é—´" class="headerlink" title="LocalDateTime æœ¬åœ°æ—¥æœŸæ—¶é—´"></a>LocalDateTime æœ¬åœ°æ—¥æœŸæ—¶é—´</h3><p><code>LocalDateTime</code> åŒæ—¶è¡¨ç¤ºäº†<strong>æ—¶é—´å’Œæ—¥æœŸ</strong>ï¼Œç›¸å½“äºå‰ä¸¤èŠ‚å†…å®¹åˆå¹¶åˆ°ä¸€ä¸ªå¯¹è±¡ä¸Šäº†ã€‚<br><code>LocalDateTime</code>å’Œ<code>LocalTime</code>è¿˜æœ‰<code>LocalDate</code>ä¸€æ ·ï¼Œéƒ½æ˜¯ä¸å¯å˜çš„ã€‚<code>LocalDateTime</code>æä¾›äº†ä¸€äº›èƒ½è®¿é—®å…·ä½“å­—æ®µçš„æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">LocalDateTime</span> <span class="variable">sylvester</span> <span class="operator">=</span> LocalDateTime.of(<span class="number">2014</span>, Month.DECEMBER, <span class="number">31</span>, <span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">DayOfWeek</span> <span class="variable">dayOfWeek</span> <span class="operator">=</span> sylvester.getDayOfWeek();</span><br><span class="line">System.out.println(dayOfWeek);      <span class="comment">// WEDNESDAY</span></span><br><span class="line"></span><br><span class="line"><span class="type">Month</span> <span class="variable">month</span> <span class="operator">=</span> sylvester.getMonth();</span><br><span class="line">System.out.println(month);          <span class="comment">// DECEMBER</span></span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">minuteOfDay</span> <span class="operator">=</span> sylvester.getLong(ChronoField.MINUTE_OF_DAY);</span><br><span class="line">System.out.println(minuteOfDay);    <span class="comment">// 1439</span></span><br></pre></td></tr></table></figure>
<p>åªè¦é™„åŠ ä¸Šæ—¶åŒºä¿¡æ¯ï¼Œå°±å¯ä»¥å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ—¶é—´ç‚¹<code>Instant</code>å¯¹è±¡ï¼Œ<code>Instant</code>æ—¶é—´ç‚¹å¯¹è±¡å¯ä»¥å¾ˆå®¹æ˜“çš„è½¬æ¢ä¸ºè€å¼çš„<code>java.util.Date</code>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> sylvester.atZone(ZoneId.systemDefault()).toInstant();</span><br><span class="line"></span><br><span class="line"><span class="type">Date</span> <span class="variable">legacyDate</span> <span class="operator">=</span> Date.from(instant);</span><br><span class="line">System.out.println(legacyDate);     <span class="comment">// Wed Dec 31 23:59:59 CET 2014</span></span><br></pre></td></tr></table></figure>
<p>æ ¼å¼åŒ–<code>LocalDateTime</code>å’Œæ ¼å¼åŒ–æ—¶é—´å’Œæ—¥æœŸä¸€æ ·çš„ï¼Œé™¤äº†ä½¿ç”¨é¢„å®šä¹‰å¥½çš„æ ¼å¼å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰æ ¼å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">DateTimeFormatter</span> <span class="variable">formatter</span> <span class="operator">=</span> DateTimeFormatter.ofPattern(<span class="string">&quot;MMM dd, yyyy - HH:mm&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">LocalDateTime</span> <span class="variable">parsed</span> <span class="operator">=</span> LocalDateTime.parse(<span class="string">&quot;Nov 03, 2014 - 07:13&quot;</span>, formatter);</span><br><span class="line">Stringstring= formatter.format(parsed);</span><br><span class="line">System.out.println(string);     <span class="comment">// Nov 03, 2014 - 07:13</span></span><br></pre></td></tr></table></figure>
<p>å’Œ<code>java.text.NumberFormat</code>ä¸ä¸€æ ·çš„æ˜¯æ–°ç‰ˆçš„<code>DateTimeFormatter</code>æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚<br><a href="http://download.java.net/jdk8/docs/api/java/time/format/DateTimeFormatter.html">å…³äºæ—¶é—´æ—¥æœŸæ ¼å¼çš„è¯¦ç»†ä¿¡æ¯</a></p>
<h2 id="åã€Annotation-æ³¨è§£"><a href="#åã€Annotation-æ³¨è§£" class="headerlink" title="åã€Annotation æ³¨è§£"></a>åã€Annotation æ³¨è§£</h2><p>åœ¨<code>Java 8</code>ä¸­æ”¯æŒå¤šé‡æ³¨è§£äº†ï¼Œå…ˆçœ‹ä¸ªä¾‹å­æ¥ç†è§£ä¸€ä¸‹æ˜¯ä»€ä¹ˆæ„æ€ã€‚é¦–å…ˆå®šä¹‰ä¸€ä¸ªåŒ…è£…ç±»<code>Hints</code>æ³¨è§£ç”¨æ¥æ”¾ç½®ä¸€ç»„å…·ä½“çš„<code>Hint</code>æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@interfaceHints</span>&#123;</span><br><span class="line">    Hint[] value();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repeatable(Hints.class)</span></span><br><span class="line"><span class="meta">@interfaceHint</span>&#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Java 8</code>å…è®¸æˆ‘ä»¬æŠŠåŒä¸€ä¸ªç±»å‹çš„æ³¨è§£ä½¿ç”¨å¤šæ¬¡ï¼Œåªéœ€è¦ç»™è¯¥æ³¨è§£æ ‡æ³¨ä¸€ä¸‹<code>@Repeatable</code>å³å¯ã€‚<br>ä¾‹ 1: ä½¿ç”¨åŒ…è£…ç±»å½“å®¹å™¨æ¥å­˜å¤šä¸ªæ³¨è§£ï¼ˆè€æ–¹æ³•ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Hints(&#123;@Hint(&quot;hint1&quot;), @Hint(&quot;hint2&quot;)&#125;)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>ä¾‹ 2ï¼šä½¿ç”¨å¤šé‡æ³¨è§£ï¼ˆæ–°æ–¹æ³•ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Hint(&quot;hint1&quot;)</span></span><br><span class="line"><span class="meta">@Hint(&quot;hint2&quot;)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>ç¬¬äºŒä¸ªä¾‹å­é‡Œ<code>java</code>ç¼–è¯‘å™¨ä¼šéšæ€§çš„å¸®ä½ å®šä¹‰å¥½<code>@Hints</code>æ³¨è§£ï¼Œäº†è§£è¿™ä¸€ç‚¹æœ‰åŠ©äºä½ ç”¨åå°„æ¥è·å–è¿™äº›ä¿¡æ¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Hint</span> <span class="variable">hint</span> <span class="operator">=</span> Person.class.getAnnotation(Hint.class);</span><br><span class="line">System.out.println(hint);                   <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line"><span class="type">Hints</span> <span class="variable">hints1</span> <span class="operator">=</span> Person.class.getAnnotation(Hints.class);</span><br><span class="line">System.out.println(hints1.value().length);  <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">Hint[] hints2 = Person.class.getAnnotationsByType(Hint.class);</span><br><span class="line">System.out.println(hints2.length);          <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p>å³ä¾¿æˆ‘ä»¬æ²¡æœ‰åœ¨<code>Person</code>ç±»ä¸Šå®šä¹‰<code>@Hints</code>æ³¨è§£ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥é€šè¿‡ <code>getAnnotation(Hints.class)</code> æ¥è·å– <code>@Hints</code>æ³¨è§£ï¼Œæ›´åŠ æ–¹ä¾¿çš„æ–¹æ³•æ˜¯ä½¿ç”¨ <code>getAnnotationsByType</code> å¯ä»¥ç›´æ¥è·å–åˆ°æ‰€æœ‰çš„<code>@Hint</code>æ³¨è§£ã€‚å¦å¤–<code>Java 8</code>çš„æ³¨è§£è¿˜å¢åŠ åˆ°ä¸¤ç§æ–°çš„<code>target</code>ä¸Šäº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE_PARAMETER, ElementType.TYPE_USE&#125;)</span></span><br><span class="line"><span class="meta">@interfaceMyAnnotation</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>å…³äº<code>Java 8</code>çš„æ–°ç‰¹æ€§å°±å†™åˆ°è¿™äº†ï¼Œè‚¯å®šè¿˜æœ‰æ›´å¤šçš„ç‰¹æ€§ç­‰å¾…å‘æ˜ã€‚<code>JDK 1.8</code>é‡Œè¿˜æœ‰å¾ˆå¤šå¾ˆæœ‰ç”¨çš„ä¸œè¥¿ï¼Œæ¯”å¦‚<code>Arrays.parallelSort</code>, <code>StampedLock</code>å’Œ<code>CompletableFuture</code>ç­‰ç­‰ã€‚</p>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
  </entry>
  <entry>
    <title>Java8 å¤„ç† NPE</title>
    <url>/2023/11/13/Java8%E5%A4%84%E7%90%86NPE/</url>
    <content><![CDATA[<h1 id="Java8-å¤„ç†-NPE"><a href="#Java8-å¤„ç†-NPE" class="headerlink" title="Java8 å¤„ç† NPE"></a>Java8 å¤„ç† NPE</h1><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªç±»,ä»–ä»¬çš„ UML ç±»å›¾å¦‚ä¸‹å›¾æ‰€ç¤º:</p>
<p><img src="https://s2.loli.net/2022/10/10/rqJ8CfTmxSwF7hg.png" alt="image.png"></p>
<h2 id="åœ¨è¿™ç§æƒ…å†µä¸‹-æœ‰å¦‚ä¸‹ä»£ç "><a href="#åœ¨è¿™ç§æƒ…å†µä¸‹-æœ‰å¦‚ä¸‹ä»£ç " class="headerlink" title="åœ¨è¿™ç§æƒ…å†µä¸‹,æœ‰å¦‚ä¸‹ä»£ç "></a>åœ¨è¿™ç§æƒ…å†µä¸‹,æœ‰å¦‚ä¸‹ä»£ç </h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">user.getAddress().getProvince();</span><br></pre></td></tr></table></figure>

<p>è¿™ç§å†™æ³•,åœ¨<code>user</code>ä¸º<code>null</code>æ—¶,æ˜¯æœ‰å¯èƒ½æŠ¥<code>NullPointerException</code>å¼‚å¸¸çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜,äºæ˜¯é‡‡ç”¨ä¸‹é¢çš„å†™æ³•:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (user != <span class="literal">null</span>) &#123;</span><br><span class="line">  <span class="type">Address</span> <span class="variable">address</span> <span class="operator">=</span> user.getAddress();</span><br><span class="line">  <span class="keyword">if</span> (address != <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="type">String</span> <span class="variable">province</span> <span class="operator">=</span> address.getProvince();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§å†™æ³•æ˜¯æ¯”è¾ƒä¸‘é™‹çš„,ä¸ºäº†é¿å…ä¸Šè¿°ä¸‘é™‹çš„å†™æ³•,è®©ä¸‘é™‹çš„è®¾è®¡å˜å¾—ä¼˜é›…ã€‚<code>JAVA8</code>æä¾›äº†<code>Optional</code>ç±»æ¥ä¼˜åŒ–è¿™ç§å†™æ³•,æ¥ä¸‹æ¥è¿›è¡Œè¯¦ç»†è¯´æ˜.</p>
<h2 id="API-ä»‹ç»"><a href="#API-ä»‹ç»" class="headerlink" title="API ä»‹ç»"></a>API ä»‹ç»</h2><p>å…ˆä»‹ç»ä¸€ä¸‹<code>API</code>,ä¸å…¶ä»–æ–‡ç« ä¸åŒçš„æ˜¯,æœ¬æ–‡é‡‡å–ç±»æ¯”çš„æ–¹å¼æ¥è®²,åŒæ—¶ç»“åˆæºç ã€‚è€Œä¸åƒå…¶ä»–æ–‡ç« ä¸€æ ·,ä¸€ä¸ªä¸ª<code>API</code>ç½—åˆ—å‡ºæ¥,è®©äººæ‰¾ä¸åˆ°é‡ç‚¹ã€‚</p>
<h3 id="1ã€Optional-T-value-empty-of-T-value-ofNullable-T-value"><a href="#1ã€Optional-T-value-empty-of-T-value-ofNullable-T-value" class="headerlink" title="1ã€Optional(T value),empty(),of(T value),ofNullable(T value)"></a>1ã€<code>Optional(T value)</code>,<code>empty(),of(T value)</code>,<code>ofNullable(T value)</code></h3><p>è¿™å››ä¸ªå‡½æ•°ä¹‹é—´å…·æœ‰ç›¸å…³æ€§,å› æ­¤æ”¾åœ¨ä¸€ç»„è¿›è¡Œè®°å¿†ã€‚</p>
<p>å…ˆè¯´æ˜ä¸€ä¸‹,<code>Optional(T value)</code>,å³<strong>æ„é€ å‡½æ•°</strong>,å®ƒæ˜¯<code>private</code>æƒé™çš„,ä¸èƒ½ç”±å¤–éƒ¨è°ƒç”¨çš„ã€‚å…¶ä½™ä¸‰ä¸ªå‡½æ•°æ˜¯<code>public</code>æƒé™,ä¾›æˆ‘ä»¬æ‰€è°ƒç”¨ã€‚</p>
<p>é‚£ä¹ˆ,<code>Optional</code><br>çš„æœ¬è´¨,å°±æ˜¯å†…éƒ¨å‚¨å­˜äº†ä¸€ä¸ªçœŸå®çš„å€¼,åœ¨æ„é€ çš„æ—¶å€™,å°±ç›´æ¥åˆ¤æ–­å…¶å€¼æ˜¯å¦ä¸ºç©ºã€‚å¥½å§,è¿™ä¹ˆè¯´è¿˜æ˜¯æ¯”è¾ƒæŠ½è±¡ã€‚ç›´æ¥ä¸Š<code>Optional(T value)</code><br>æ„é€ å‡½æ•°çš„æºç ,å¦‚ä¸‹å›¾æ‰€ç¤º:</p>
<p><img src="https://s2.loli.net/2022/10/10/fHow65q8cJ4KjUn.png" alt="8892de3f99860f0165b43b939577c8e4.png"></p>
<p>é‚£ä¹ˆ,<code>of(T value)</code>çš„æºç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Optional&lt;T&gt; <span class="title function_">of</span><span class="params">(T value)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Optional</span>&lt;&gt;(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå°±æ˜¯è¯´<code>of(T value)</code>å‡½æ•°å†…éƒ¨è°ƒç”¨äº†æ„é€ å‡½æ•°<code>Optional(T value)</code>ã€‚æ ¹æ®æ„é€ å‡½æ•°çš„æºç æˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸¤ä¸ªç»“è®º:</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> é€šè¿‡<code>of(T value)</code>å‡½æ•°æ‰€æ„é€ å‡ºçš„<code>Optional</code>å¯¹è±¡,å½“<code>Value</code>å€¼ä¸ºç©ºæ—¶,ä¾ç„¶ä¼šæŠ¥<code>NullPointerException</code>ã€‚</li>
<li><input checked="" disabled="" type="checkbox"> é€šè¿‡<code>of(T value)</code>å‡½æ•°æ‰€æ„é€ å‡ºçš„<code>Optional</code>å¯¹è±¡,å½“<code>Value</code>å€¼ä¸ä¸ºç©ºæ—¶,èƒ½æ­£å¸¸æ„é€ <code>Optional</code>å¯¹è±¡ã€‚</li>
</ul>
<p>é™¤æ­¤ä¹‹å¤–å‘¢,<code>Optional</code>ç±»å†…éƒ¨è¿˜ç»´æŠ¤ä¸€ä¸ª<code>value</code>ä¸º<code>null</code>çš„å¯¹è±¡,å¤§æ¦‚å°±æ˜¯é•¿ä¸‹é¢è¿™æ ·çš„:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Optional</span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="comment">//çœç•¥....</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Optional&lt;?&gt; EMPTY = <span class="keyword">new</span> <span class="title class_">Optional</span>&lt;&gt;();</span><br><span class="line">  <span class="keyword">private</span> <span class="title function_">Optional</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.value = <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//çœç•¥...</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span>&lt;T&gt; Optional&lt;T&gt; <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    Optional&lt;T&gt; t = (Optional&lt;T&gt;) EMPTY;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆ,<code>empty()</code>çš„ä½œç”¨å°±æ˜¯è¿”å›<code>EMPTY</code>å¯¹è±¡ã€‚</p>
<p>å¥½äº†é“ºå«äº†è¿™ä¹ˆå¤š,å¯ä»¥è¯´<code>ofNullable(T value)</code>çš„ä½œç”¨äº†,ä¸Šæºç :</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Optional&lt;T&gt; <span class="title function_">ofNullable</span><span class="params">(T value)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> value == <span class="literal">null</span> ? empty() : of(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¥½å§,å¤§å®¶åº”è¯¥éƒ½çœ‹å¾—æ‡‚ä»€ä¹ˆæ„æ€äº†ã€‚ç›¸æ¯”è¾ƒ<code>of(T value)</code>çš„åŒºåˆ«å°±æ˜¯,å½“<code>value</code>å€¼ä¸º<code>null</code>æ—¶,<code>of(T value)</code><br>ä¼šæŠ¥<code>NullPointerException</code>å¼‚å¸¸ï¼›<code>ofNullable(T value)</code>ä¸ä¼š<code>throw Exception</code>,<code>ofNullable(T value)</code>ç›´æ¥è¿”å›ä¸€ä¸ª<code>EMPTY</code>å¯¹è±¡ã€‚</p>
<p>é‚£æ˜¯ä¸æ˜¯æ„å‘³ç€,æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­åªç”¨<code>ofNullable</code>å‡½æ•°è€Œä¸ç”¨ <code>of</code> å‡½æ•°å‘¢?</p>
<p>ä¸æ˜¯çš„,ä¸€ä¸ªä¸œè¥¿å­˜åœ¨é‚£ä¹ˆè‡ªç„¶æœ‰å­˜åœ¨çš„ä»·å€¼ã€‚å½“æˆ‘ä»¬åœ¨è¿è¡Œè¿‡ç¨‹ä¸­,ä¸æƒ³éšè—<code>NullPointerException</code><br>ã€‚è€Œæ˜¯è¦ç«‹å³æŠ¥å‘Š,è¿™ç§æƒ…å†µä¸‹å°±ç”¨<code>Of</code>å‡½æ•°ã€‚ä½†æ˜¯ä¸å¾—ä¸æ‰¿è®¤,è¿™æ ·çš„åœºæ™¯çœŸçš„å¾ˆå°‘ã€‚</p>
<h3 id="2ã€orElse-T-other-orElseGet-Supplier-other-å’ŒorElseThrow-Supplier-exceptionSupplier"><a href="#2ã€orElse-T-other-orElseGet-Supplier-other-å’ŒorElseThrow-Supplier-exceptionSupplier" class="headerlink" title="2ã€orElse(T other),orElseGet(Supplier&lt;? extends T&gt; other)å’ŒorElseThrow(Supplier&lt;? extends X&gt; exceptionSupplier)"></a>2ã€<code>orElse(T other),orElseGet(Supplier&lt;? extends T&gt; other)</code>å’Œ<code>orElseThrow(Supplier&lt;? extends X&gt; exceptionSupplier)</code></h3><p>è¿™ä¸‰ä¸ªå‡½æ•°æ”¾ä¸€ç»„è¿›è¡Œè®°å¿†,éƒ½æ˜¯åœ¨æ„é€ å‡½æ•°ä¼ å…¥çš„<code>value</code>å€¼ä¸º<code>null</code>æ—¶,è¿›è¡Œè°ƒç”¨çš„ã€‚<code>orElse</code>å’Œ<code>orElseGet</code><br>çš„ç”¨æ³•å¦‚ä¸‹æ‰€ç¤º,ç›¸å½“äº<code>value</code>å€¼ä¸º<code>null</code>æ—¶,ç»™äºˆä¸€ä¸ªé»˜è®¤å€¼:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">  user = Optional.ofNullable(user).orElse(createUser());</span><br><span class="line">  user = Optional.ofNullable(user).orElseGet(() -&gt; createUser());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">createUser</span><span class="params">()</span>&#123;</span><br><span class="line">  <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">  user.setName(<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸¤ä¸ªå‡½æ•°çš„åŒºåˆ«ï¼šå½“<code>user</code>å€¼ä¸ä¸º<code>null</code>æ—¶,<code>orElse</code>å‡½æ•°ä¾ç„¶ä¼šæ‰§è¡Œ<code>createUser()</code>æ–¹æ³•,è€Œ<code>orElseGet</code><br>å‡½æ•°å¹¶ä¸ä¼šæ‰§è¡Œ<code>createUser()</code>æ–¹æ³•,å¤§å®¶å¯è‡ªè¡Œæµ‹è¯•ã€‚</p>
<p>è‡³äº<code>orElseThrow</code>,å°±æ˜¯<code>value</code>å€¼ä¸º<code>null</code>æ—¶,ç›´æ¥æŠ›ä¸€ä¸ªå¼‚å¸¸å‡ºå»,ç”¨æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">Optional.ofNullable(user).orElseThrow(()-&gt;<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="3ã€map-Function-mapper-å’ŒflatMap-Function-mapper"><a href="#3ã€map-Function-mapper-å’ŒflatMap-Function-mapper" class="headerlink" title="3ã€map(Function&lt;? super T, ? extends U&gt; mapper)å’ŒflatMap(Function&lt;? super T, Optional&lt;U&gt;&gt; mapper)"></a>3ã€<code>map(Function&lt;? super T, ? extends U&gt; mapper)</code>å’Œ<code>flatMap(Function&lt;? super T, Optional&lt;U&gt;&gt; mapper)</code></h3><p>è¿™ä¸¤ä¸ªå‡½æ•°æ”¾åœ¨ä¸€ç»„è®°å¿†,è¿™ä¸¤ä¸ªå‡½æ•°åšçš„æ˜¯&#x3D;&#x3D;è½¬æ¢å€¼çš„æ“ä½œ&#x3D;&#x3D;ã€‚</p>
<p>æºç å¦‚ä¸‹:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Optional</span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="comment">//çœç•¥....</span></span><br><span class="line">  <span class="keyword">public</span>&lt;U&gt; Optional&lt;U&gt; <span class="title function_">map</span><span class="params">(Function&lt;? <span class="built_in">super</span> T, ? extends U&gt; mapper)</span> &#123;</span><br><span class="line">    Objects.requireNonNull(mapper);</span><br><span class="line">    <span class="keyword">if</span> (!isPresent())</span><br><span class="line">        <span class="keyword">return</span> empty();</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Optional.ofNullable(mapper.apply(value));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//çœç•¥...</span></span><br><span class="line">  <span class="keyword">public</span>&lt;U&gt; Optional&lt;U&gt; <span class="title function_">flatMap</span><span class="params">(Function&lt;? <span class="built_in">super</span> T, Optional&lt;U&gt;&gt; mapper)</span> &#123;</span><br><span class="line">    Objects.requireNonNull(mapper);</span><br><span class="line">    <span class="keyword">if</span> (!isPresent()) &#123;</span><br><span class="line">      <span class="keyword">return</span> empty();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> Objects.requireNonNull(mapper.apply(value));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸¤ä¸ªå‡½æ•°,åœ¨å‡½æ•°ä½“ä¸Šæ²¡ä»€ä¹ˆåŒºåˆ«ã€‚å”¯ä¸€åŒºåˆ«çš„å°±æ˜¯å…¥å‚:</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> mapï¼š<code>map</code>å‡½æ•°æ‰€æ¥å—çš„å…¥å‚ç±»å‹ä¸º<code>Function&lt;? super T, ? extends U&gt;</code>;</li>
<li><input checked="" disabled="" type="checkbox"> flapMapï¼šè€Œ<code>flapMap</code>çš„å…¥å‚ç±»å‹ä¸º<code>Function&lt;? super T, Optional&lt;U&gt;&gt;</code>ã€‚</li>
</ul>
<p>åœ¨å…·ä½“ç”¨æ³•ä¸Š,å¯¹äº<code>map</code>è€Œè¨€ï¼š</p>
<p>å¦‚æœ<code>User</code>ç»“æ„æ˜¯ä¸‹é¢è¿™æ ·çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶å€™å–<code>name</code>çš„å†™æ³•å¦‚ä¸‹æ‰€ç¤º</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">city</span> <span class="operator">=</span> Optional.ofNullable(user).map(u-&gt; u.getName()).get();</span><br></pre></td></tr></table></figure>

<p>å¯¹äº<code>flatMap</code>è€Œè¨€:<br>å¦‚æœ<code>User</code>ç»“æ„æ˜¯ä¸‹é¢è¿™æ ·çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">public</span> Optional&lt;String&gt; <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Optional.ofNullable(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶å€™å–<code>name</code>çš„å†™æ³•å¦‚ä¸‹æ‰€ç¤º:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">city</span> <span class="operator">=</span> Optional.ofNullable(user).flatMap(u-&gt; u.getName()).get();</span><br></pre></td></tr></table></figure>

<h3 id="4ã€isPresent-å’ŒifPresent-Consumer-consumer"><a href="#4ã€isPresent-å’ŒifPresent-Consumer-consumer" class="headerlink" title="4ã€isPresent()å’ŒifPresent(Consumer&lt;? super T&gt; consumer)"></a>4ã€<code>isPresent()</code>å’Œ<code>ifPresent(Consumer&lt;? super T&gt; consumer)</code></h3><p>è¿™ä¸¤ä¸ªå‡½æ•°æ”¾åœ¨ä¸€èµ·è®°å¿†,<code>isPresent</code>å³åˆ¤æ–­<code>value</code>å€¼æ˜¯å¦ä¸ºç©º,è€Œ<code>ifPresent</code>å°±æ˜¯åœ¨<code>value</code>å€¼ä¸ä¸ºç©ºæ—¶,åšä¸€äº›æ“ä½œã€‚</p>
<p>è¿™ä¸¤ä¸ªå‡½æ•°çš„æºç å¦‚ä¸‹:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Optional</span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="comment">// çœç•¥....</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPresent</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> value != <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// çœç•¥...</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ifPresent</span><span class="params">(Consumer&lt;? <span class="built_in">super</span> T&gt; consumer)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (value != <span class="literal">null</span>) &#123;</span><br><span class="line">      consumer.accept(value);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éœ€è¦é¢å¤–è¯´æ˜çš„æ˜¯,å¤§å®¶åƒä¸‡ä¸è¦æŠŠ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (user != <span class="literal">null</span>)&#123;</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»™å†™æˆ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> Optional.ofNullable(user);</span><br><span class="line"><span class="keyword">if</span> (Optional.isPresent())&#123;</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºè¿™æ ·å†™,ä»£ç ç»“æ„ä¾ç„¶ä¸‘é™‹ã€‚</p>
<p>è‡³äº<code>ifPresent(Consumer&lt;? super T&gt; consumer)</code>,ç”¨æ³•ä¹Ÿå¾ˆç®€å•,å¦‚ä¸‹æ‰€ç¤º:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional.ofNullable(user).ifPresent(u-&gt;&#123;</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> do something</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="5ã€filter-Predicate-predicate"><a href="#5ã€filter-Predicate-predicate" class="headerlink" title="5ã€filter(Predicate&lt;? super T&gt; predicate)"></a>5ã€filter(Predicate&lt;? super T&gt; predicate)</h3><p>ä¸å¤šè¯´,ç›´æ¥ä¸Šæºç :</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Optional</span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="comment">//çœç•¥....</span></span><br><span class="line">  Objects.requireNonNull(predicate);</span><br><span class="line">  <span class="keyword">if</span> (!isPresent()) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> predicate.test(value) ? <span class="built_in">this</span> : empty();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>filter</code>æ–¹æ³•æ¥å—ä¸€ä¸ª<code>Predicate</code>æ¥å¯¹<code>Optional</code>ä¸­åŒ…å«çš„å€¼è¿›è¡Œè¿‡æ»¤,å¦‚æœåŒ…å«çš„å€¼æ»¡è¶³æ¡ä»¶,é‚£ä¹ˆè¿˜æ˜¯è¿”å›è¿™ä¸ª<code>Optional</code><br>;å¦åˆ™è¿”å›<code>Optional.empty</code>ã€‚</p>
<p>ç”¨æ³•å¦‚ä¸‹:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional&lt;User&gt; user1 = Optional.ofNullable(user).filter(u -&gt; u.getName().length() &lt; <span class="number">6</span>);</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šæ‰€ç¤º,å¦‚æœ<code>user</code>çš„<code>name</code>çš„é•¿åº¦æ˜¯å°äº 6 çš„,åˆ™è¿”å›ã€‚å¦‚æœæ˜¯å¤§äº 6 çš„,åˆ™è¿”å›ä¸€ä¸ª<code>EMPTY</code>å¯¹è±¡ã€‚</p>
<h2 id="å®æˆ˜ä½¿ç”¨"><a href="#å®æˆ˜ä½¿ç”¨" class="headerlink" title="å®æˆ˜ä½¿ç”¨"></a>å®æˆ˜ä½¿ç”¨</h2><h3 id="ä¾‹ä¸€ã€åœ¨å‡½æ•°æ–¹æ³•ä¸­"><a href="#ä¾‹ä¸€ã€åœ¨å‡½æ•°æ–¹æ³•ä¸­" class="headerlink" title="ä¾‹ä¸€ã€åœ¨å‡½æ•°æ–¹æ³•ä¸­"></a>ä¾‹ä¸€ã€åœ¨å‡½æ•°æ–¹æ³•ä¸­</h3><p>ä»¥å‰å†™æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">getCity</span><span class="params">(User user)</span>  <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">  <span class="keyword">if</span> (user != <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(user.getAddress() != <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="type">Address</span> <span class="variable">address</span> <span class="operator">=</span> user.getAddress();</span><br><span class="line">      <span class="keyword">if</span>(address.getCity() != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> address.getCity();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Excpetion</span>(<span class="string">&quot;å–å€¼é”™è¯¯&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JAVA8 å†™æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">getCity</span><span class="params">(User user)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">  <span class="keyword">return</span> Optional.ofNullable(user)</span><br><span class="line">                  .map(u-&gt; u.getAddress())</span><br><span class="line">                  .map(a-&gt;a.getCity())</span><br><span class="line">                  .orElseThrow(()-&gt;<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;å–å€¼é”™è¯¯&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¾‹äºŒã€åœ¨ä¸»ç¨‹åºä¸­"><a href="#ä¾‹äºŒã€åœ¨ä¸»ç¨‹åºä¸­" class="headerlink" title="ä¾‹äºŒã€åœ¨ä¸»ç¨‹åºä¸­"></a>ä¾‹äºŒã€åœ¨ä¸»ç¨‹åºä¸­</h3><p>ä»¥å‰å†™æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (user!=<span class="literal">null</span>) &#123;</span><br><span class="line">  dosomething(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JAVA8 å†™æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional.ofNullable(user).ifPresent(u-&gt;&#123;</span><br><span class="line">  dosomething(u);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="ä¾‹ä¸‰ã€å¯¹è±¡å­˜åœ¨è¿”å›æ»¡è¶³æ¡ä»¶çš„å¯¹è±¡-å¦åˆ™åˆ›å»ºå¯¹è±¡"><a href="#ä¾‹ä¸‰ã€å¯¹è±¡å­˜åœ¨è¿”å›æ»¡è¶³æ¡ä»¶çš„å¯¹è±¡-å¦åˆ™åˆ›å»ºå¯¹è±¡" class="headerlink" title="ä¾‹ä¸‰ã€å¯¹è±¡å­˜åœ¨è¿”å›æ»¡è¶³æ¡ä»¶çš„å¯¹è±¡,å¦åˆ™åˆ›å»ºå¯¹è±¡"></a>ä¾‹ä¸‰ã€å¯¹è±¡å­˜åœ¨è¿”å›æ»¡è¶³æ¡ä»¶çš„å¯¹è±¡,å¦åˆ™åˆ›å»ºå¯¹è±¡</h3><p>ä»¥å‰å†™æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> User <span class="title function_">getUser</span><span class="params">(User user)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">  <span class="keyword">if</span> (user!=<span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> user.getName();</span><br><span class="line">    <span class="keyword">if</span>(<span class="string">&quot;zhangsan&quot;</span>.equals(name)) &#123;</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    user = <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setName(<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> user;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>java8 å†™æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> User <span class="title function_">getUser</span><span class="params">(User user)</span> &#123;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨Optional.ofNullableåˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼š</span></span><br><span class="line">  <span class="comment">// 1ã€å­˜åœ¨åˆ™è¿‡æ»¤æ»¡è¶³å±æ€§å€¼çš„å¯¹è±¡ï¼Œè¿‡æ»¤æ“ä½œ</span></span><br><span class="line">  <span class="comment">//      1.1 è¿‡æ»¤æœ‰ ä¸åšåç»­æ“ä½œï¼Œå¾—åˆ°ç”¨æˆ·</span></span><br><span class="line">  <span class="comment">//      1.2 è¿‡æ»¤æ²¡æœ‰ æ‰§è¡ŒorElseGetæ–¹æ³•ï¼Œåˆ›å»ºç”¨æˆ·</span></span><br><span class="line">  <span class="comment">// 2ã€ä¸å­˜åœ¨åˆ™æ‰§è¡ŒorElseGetæ–¹æ³•ï¼Œåˆ›å»ºç”¨æˆ·</span></span><br><span class="line">  <span class="keyword">return</span> Optional.ofNullable(user)</span><br><span class="line">              .filter(u-&gt;<span class="string">&quot;zhangsan&quot;</span>.equals(u.getName()))</span><br><span class="line">              .orElseGet(()-&gt; &#123;</span><br><span class="line">                <span class="type">User</span> <span class="variable">user1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">                user1.setName(<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> user1;</span><br><span class="line">              &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åç«¯</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux å‘½ä»¤</title>
    <url>/2023/11/13/Linux-%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h1 id="Linux-æ“ä½œå¿…å¤‡-150-ä¸ªå‘½ä»¤"><a href="#Linux-æ“ä½œå¿…å¤‡-150-ä¸ªå‘½ä»¤" class="headerlink" title="Linux æ“ä½œå¿…å¤‡ 150 ä¸ªå‘½ä»¤"></a>Linux æ“ä½œå¿…å¤‡ 150 ä¸ªå‘½ä»¤</h1><p><code>linux å‘½ä»¤</code>æ˜¯å¯¹ <code>Linux</code> ç³»ç»Ÿè¿›è¡Œç®¡ç†çš„å‘½ä»¤ã€‚å¯¹äº <code>Linux</code><br>ç³»ç»Ÿæ¥è¯´ï¼Œæ— è®ºæ˜¯ä¸­å¤®å¤„ç†å™¨ã€å†…å­˜ã€ç£ç›˜é©±åŠ¨å™¨ã€é”®ç›˜ã€é¼ æ ‡ï¼Œè¿˜æ˜¯ç”¨æˆ·ç­‰éƒ½æ˜¯æ–‡ä»¶ï¼Œ <code>Linux</code><br>ç³»ç»Ÿç®¡ç†çš„å‘½ä»¤æ˜¯å®ƒæ­£å¸¸è¿è¡Œçš„æ ¸å¿ƒï¼Œä¸ä¹‹å‰çš„ <code>DOS</code> å‘½ä»¤ç±»ä¼¼ã€‚</p>
<p><code>linux å‘½ä»¤</code>åœ¨ç³»ç»Ÿä¸­æœ‰ä¸¤ç§ç±»å‹ï¼š<code>å†…ç½® Shell å‘½ä»¤</code>å’Œ <code>Linux å‘½ä»¤</code>ã€‚</p>
<h2 id="çº¿ä¸ŠæŸ¥è¯¢åŠå¸®åŠ©å‘½ä»¤"><a href="#çº¿ä¸ŠæŸ¥è¯¢åŠå¸®åŠ©å‘½ä»¤" class="headerlink" title="çº¿ä¸ŠæŸ¥è¯¢åŠå¸®åŠ©å‘½ä»¤"></a>çº¿ä¸ŠæŸ¥è¯¢åŠå¸®åŠ©å‘½ä»¤</h2><p>çº¿ä¸ŠæŸ¥è¯¢åŠå¸®åŠ©å‘½ä»¤ (2 ä¸ª)</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>man</td>
<td>æŸ¥çœ‹å‘½ä»¤å¸®åŠ©ï¼Œå‘½ä»¤çš„è¯å…¸ï¼Œæ›´å¤æ‚çš„è¿˜æœ‰ infoï¼Œä½†ä¸å¸¸ç”¨ã€‚</td>
</tr>
<tr>
<td>help</td>
<td>æŸ¥çœ‹ Linux å†…ç½®å‘½ä»¤çš„å¸®åŠ©ï¼Œæ¯”å¦‚ cd å‘½ä»¤ã€‚</td>
</tr>
</tbody></table>
<h2 id="æ–‡ä»¶å’Œç›®å½•æ“ä½œå‘½ä»¤"><a href="#æ–‡ä»¶å’Œç›®å½•æ“ä½œå‘½ä»¤" class="headerlink" title="æ–‡ä»¶å’Œç›®å½•æ“ä½œå‘½ä»¤"></a>æ–‡ä»¶å’Œç›®å½•æ“ä½œå‘½ä»¤</h2><p>æ–‡ä»¶å’Œç›®å½•æ“ä½œå‘½ä»¤ (18 ä¸ª)</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>ls</td>
<td>å…¨æ‹¼ listï¼ŒåŠŸèƒ½æ˜¯åˆ—å‡ºç›®å½•çš„å†…å®¹åŠå…¶å†…å®¹å±æ€§ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>cd</td>
<td>å…¨æ‹¼ change directoryï¼ŒåŠŸèƒ½æ˜¯ä»å½“å‰å·¥ä½œç›®å½•åˆ‡æ¢åˆ°æŒ‡å®šçš„å·¥ä½œç›®å½•ã€‚</td>
</tr>
<tr>
<td>cp</td>
<td>å…¨æ‹¼ copyï¼Œå…¶åŠŸèƒ½ä¸ºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ã€‚</td>
</tr>
<tr>
<td>find</td>
<td>æŸ¥æ‰¾çš„æ„æ€ï¼Œç”¨äºæŸ¥æ‰¾ç›®å½•åŠç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>mkdir</td>
<td>å…¨æ‹¼ make directoriesï¼Œå…¶åŠŸèƒ½æ˜¯åˆ›å»ºç›®å½•ã€‚</td>
</tr>
<tr>
<td>mv</td>
<td>å…¨æ‹¼ moveï¼Œå…¶åŠŸèƒ½æ˜¯ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>pwd</td>
<td>å…¨æ‹¼ print working directoryï¼Œå…¶åŠŸèƒ½æ˜¯æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚</td>
</tr>
<tr>
<td>rename</td>
<td>ç”¨äºé‡å‘½åæ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>rm</td>
<td>å…¨æ‹¼ removeï¼Œå…¶åŠŸèƒ½æ˜¯åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•ã€‚</td>
</tr>
<tr>
<td>rmdir</td>
<td>å…¨æ‹¼ remove empty directoriesï¼ŒåŠŸèƒ½æ˜¯åˆ é™¤ç©ºç›®å½•ã€‚</td>
</tr>
<tr>
<td>touch</td>
<td>åˆ›å»ºæ–°çš„ç©ºæ–‡ä»¶ï¼Œæ”¹å˜å·²æœ‰æ–‡ä»¶çš„æ—¶é—´æˆ³å±æ€§ã€‚</td>
</tr>
<tr>
<td>tree</td>
<td>åŠŸèƒ½æ˜¯ä»¥æ ‘å½¢ç»“æ„æ˜¾ç¤ºç›®å½•ä¸‹çš„å†…å®¹ã€‚</td>
</tr>
<tr>
<td>basename</td>
<td>æ˜¾ç¤ºæ–‡ä»¶åæˆ–ç›®å½•åã€‚</td>
</tr>
<tr>
<td>dirname</td>
<td>æ˜¾ç¤ºæ–‡ä»¶æˆ–ç›®å½•è·¯å¾„ã€‚</td>
</tr>
<tr>
<td>chattr</td>
<td>æ”¹å˜æ–‡ä»¶çš„æ‰©å±•å±æ€§ã€‚</td>
</tr>
<tr>
<td>lsattr</td>
<td>æŸ¥çœ‹æ–‡ä»¶æ‰©å±•å±æ€§ã€‚</td>
</tr>
<tr>
<td>file</td>
<td>æ˜¾ç¤ºæ–‡ä»¶çš„ç±»å‹ã€‚</td>
</tr>
<tr>
<td>md5sum</td>
<td>è®¡ç®—å’Œæ ¡éªŒæ–‡ä»¶çš„ MD5 å€¼ã€‚</td>
</tr>
</tbody></table>
<h2 id="æŸ¥çœ‹æ–‡ä»¶åŠå†…å®¹å¤„ç†å‘½ä»¤"><a href="#æŸ¥çœ‹æ–‡ä»¶åŠå†…å®¹å¤„ç†å‘½ä»¤" class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶åŠå†…å®¹å¤„ç†å‘½ä»¤"></a>æŸ¥çœ‹æ–‡ä»¶åŠå†…å®¹å¤„ç†å‘½ä»¤</h2><p>æŸ¥çœ‹æ–‡ä»¶åŠå†…å®¹å¤„ç†å‘½ä»¤ï¼ˆ21 ä¸ªï¼‰</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>cat</td>
<td>å…¨æ‹¼ concatenateï¼ŒåŠŸèƒ½æ˜¯ç”¨äºè¿æ¥å¤šä¸ªæ–‡ä»¶å¹¶ä¸”æ‰“å°åˆ°å±å¹•è¾“å‡ºæˆ–é‡å®šå‘åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ã€‚</td>
</tr>
<tr>
<td>tac</td>
<td>tac æ˜¯ cat çš„åå‘æ‹¼å†™ï¼Œå› æ­¤å‘½ä»¤çš„åŠŸèƒ½ä¸ºåå‘æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ã€‚</td>
</tr>
<tr>
<td>more</td>
<td>åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ã€‚</td>
</tr>
<tr>
<td>less</td>
<td>åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œmore å‘½ä»¤çš„ç›¸åç”¨æ³•ã€‚</td>
</tr>
<tr>
<td>head</td>
<td>æ˜¾ç¤ºæ–‡ä»¶å†…å®¹çš„å¤´éƒ¨ã€‚</td>
</tr>
<tr>
<td>tail</td>
<td>æ˜¾ç¤ºæ–‡ä»¶å†…å®¹çš„å°¾éƒ¨ã€‚</td>
</tr>
<tr>
<td>cut</td>
<td>å°†æ–‡ä»¶çš„æ¯ä¸€è¡ŒæŒ‰æŒ‡å®šåˆ†éš”ç¬¦åˆ†å‰²å¹¶è¾“å‡ºã€‚</td>
</tr>
<tr>
<td>split</td>
<td>åˆ†å‰²æ–‡ä»¶ä¸ºä¸åŒçš„å°ç‰‡æ®µã€‚</td>
</tr>
<tr>
<td>paste</td>
<td>æŒ‰è¡Œåˆå¹¶æ–‡ä»¶å†…å®¹ã€‚</td>
</tr>
<tr>
<td>sort</td>
<td>å¯¹æ–‡ä»¶çš„æ–‡æœ¬å†…å®¹æ’åºã€‚</td>
</tr>
<tr>
<td>uniq</td>
<td>å»é™¤é‡å¤è¡Œã€‚oldboy</td>
</tr>
<tr>
<td>wc</td>
<td>ç»Ÿè®¡æ–‡ä»¶çš„è¡Œæ•°ã€å•è¯æ•°æˆ–å­—èŠ‚æ•°ã€‚</td>
</tr>
<tr>
<td>iconv</td>
<td>è½¬æ¢æ–‡ä»¶çš„ç¼–ç æ ¼å¼ã€‚</td>
</tr>
<tr>
<td>dos2unix</td>
<td>å°† DOS æ ¼å¼æ–‡ä»¶è½¬æ¢æˆ UNIX æ ¼å¼ã€‚</td>
</tr>
<tr>
<td>diff</td>
<td>å…¨æ‹¼ differenceï¼Œæ¯”è¾ƒæ–‡ä»¶çš„å·®å¼‚ï¼Œå¸¸ç”¨äºæ–‡æœ¬æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>vimdiff</td>
<td>å‘½ä»¤è¡Œå¯è§†åŒ–æ–‡ä»¶æ¯”è¾ƒå·¥å…·ï¼Œå¸¸ç”¨äºæ–‡æœ¬æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>rev</td>
<td>åå‘è¾“å‡ºæ–‡ä»¶å†…å®¹ã€‚</td>
</tr>
<tr>
<td>grep&#x2F;egrep</td>
<td>è¿‡æ»¤å­—ç¬¦ä¸²ï¼Œä¸‰å‰‘å®¢è€ä¸‰ã€‚</td>
</tr>
<tr>
<td>join</td>
<td>æŒ‰ä¸¤ä¸ªæ–‡ä»¶çš„ç›¸åŒå­—æ®µåˆå¹¶ã€‚</td>
</tr>
<tr>
<td>tr</td>
<td>æ›¿æ¢æˆ–åˆ é™¤å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td>vi&#x2F;vim</td>
<td>å‘½ä»¤è¡Œæ–‡æœ¬ç¼–è¾‘å™¨ã€‚</td>
</tr>
</tbody></table>
<h2 id="æ–‡ä»¶å‹ç¼©åŠè§£å‹ç¼©å‘½ä»¤"><a href="#æ–‡ä»¶å‹ç¼©åŠè§£å‹ç¼©å‘½ä»¤" class="headerlink" title="æ–‡ä»¶å‹ç¼©åŠè§£å‹ç¼©å‘½ä»¤"></a>æ–‡ä»¶å‹ç¼©åŠè§£å‹ç¼©å‘½ä»¤</h2><p>æ–‡ä»¶å‹ç¼©åŠè§£å‹ç¼©å‘½ä»¤ï¼ˆ4 ä¸ªï¼‰</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>tar</td>
<td>æ‰“åŒ…å‹ç¼©ã€‚oldboy</td>
</tr>
<tr>
<td>unzip</td>
<td>è§£å‹æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>gzip</td>
<td>gzip å‹ç¼©å·¥å…·ã€‚</td>
</tr>
<tr>
<td>zip</td>
<td>å‹ç¼©å·¥å…·ã€‚</td>
</tr>
</tbody></table>
<h2 id="ä¿¡æ¯æ˜¾ç¤ºå‘½ä»¤"><a href="#ä¿¡æ¯æ˜¾ç¤ºå‘½ä»¤" class="headerlink" title="ä¿¡æ¯æ˜¾ç¤ºå‘½ä»¤"></a>ä¿¡æ¯æ˜¾ç¤ºå‘½ä»¤</h2><p>ä¿¡æ¯æ˜¾ç¤ºå‘½ä»¤ï¼ˆ11 ä¸ªï¼‰</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>uname</td>
<td>æ˜¾ç¤ºæ“ä½œç³»ç»Ÿç›¸å…³ä¿¡æ¯çš„å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>hostname</td>
<td>æ˜¾ç¤ºæˆ–è€…è®¾ç½®å½“å‰ç³»ç»Ÿçš„ä¸»æœºåã€‚</td>
</tr>
<tr>
<td>dmesg</td>
<td>æ˜¾ç¤ºå¼€æœºä¿¡æ¯ï¼Œç”¨äºè¯Šæ–­ç³»ç»Ÿæ•…éšœã€‚</td>
</tr>
<tr>
<td>uptime</td>
<td>æ˜¾ç¤ºç³»ç»Ÿè¿è¡Œæ—¶é—´åŠè´Ÿè½½ã€‚</td>
</tr>
<tr>
<td>stat</td>
<td>æ˜¾ç¤ºæ–‡ä»¶æˆ–æ–‡ä»¶ç³»ç»Ÿçš„çŠ¶æ€ã€‚</td>
</tr>
<tr>
<td>du</td>
<td>è®¡ç®—ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µã€‚</td>
</tr>
<tr>
<td>df</td>
<td>æŠ¥å‘Šæ–‡ä»¶ç³»ç»Ÿç£ç›˜ç©ºé—´çš„ä½¿ç”¨æƒ…å†µã€‚</td>
</tr>
<tr>
<td>top</td>
<td>å®æ—¶æ˜¾ç¤ºç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µã€‚</td>
</tr>
<tr>
<td>free</td>
<td>æŸ¥çœ‹ç³»ç»Ÿå†…å­˜ã€‚</td>
</tr>
<tr>
<td>date</td>
<td>æ˜¾ç¤ºä¸è®¾ç½®ç³»ç»Ÿæ—¶é—´ã€‚</td>
</tr>
<tr>
<td>cal</td>
<td>æŸ¥çœ‹æ—¥å†ç­‰æ—¶é—´ä¿¡æ¯ã€‚</td>
</tr>
</tbody></table>
<h2 id="æœç´¢æ–‡ä»¶å‘½ä»¤"><a href="#æœç´¢æ–‡ä»¶å‘½ä»¤" class="headerlink" title="æœç´¢æ–‡ä»¶å‘½ä»¤"></a>æœç´¢æ–‡ä»¶å‘½ä»¤</h2><p>æœç´¢æ–‡ä»¶å‘½ä»¤ï¼ˆ4 ä¸ªï¼‰</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>which</td>
<td>æŸ¥æ‰¾äºŒè¿›åˆ¶å‘½ä»¤ï¼ŒæŒ‰ç¯å¢ƒå˜é‡ PATH è·¯å¾„æŸ¥æ‰¾ã€‚</td>
</tr>
<tr>
<td>find</td>
<td>ä»ç£ç›˜éå†æŸ¥æ‰¾æ–‡ä»¶æˆ–ç›®å½•ã€‚</td>
</tr>
<tr>
<td>whereis</td>
<td>æŸ¥æ‰¾äºŒè¿›åˆ¶å‘½ä»¤ï¼ŒæŒ‰ç¯å¢ƒå˜é‡ PATH è·¯å¾„æŸ¥æ‰¾ã€‚</td>
</tr>
<tr>
<td>locate</td>
<td>ä»æ•°æ®åº“ (&#x2F;var&#x2F;lib&#x2F;mlocate&#x2F;mlocate.db) æŸ¥æ‰¾å‘½ä»¤ï¼Œä½¿ç”¨ updatedb æ›´æ–°åº“ã€‚</td>
</tr>
</tbody></table>
<h2 id="ç”¨æˆ·ç®¡ç†å‘½ä»¤"><a href="#ç”¨æˆ·ç®¡ç†å‘½ä»¤" class="headerlink" title="ç”¨æˆ·ç®¡ç†å‘½ä»¤"></a>ç”¨æˆ·ç®¡ç†å‘½ä»¤</h2><p>ç”¨æˆ·ç®¡ç†å‘½ä»¤ï¼ˆ10 ä¸ªï¼‰</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>useradd</td>
<td>æ·»åŠ ç”¨æˆ·ã€‚</td>
</tr>
<tr>
<td>usermod</td>
<td>ä¿®æ”¹ç³»ç»Ÿå·²ç»å­˜åœ¨çš„ç”¨æˆ·å±æ€§ã€‚</td>
</tr>
<tr>
<td>userdel</td>
<td>åˆ é™¤ç”¨æˆ·ã€‚</td>
</tr>
<tr>
<td>groupadd</td>
<td>æ·»åŠ ç”¨æˆ·ç»„ã€‚</td>
</tr>
<tr>
<td>passwd</td>
<td>ä¿®æ”¹ç”¨æˆ·å¯†ç ã€‚</td>
</tr>
<tr>
<td>chage</td>
<td>ä¿®æ”¹ç”¨æˆ·å¯†ç æœ‰æ•ˆæœŸé™ã€‚</td>
</tr>
<tr>
<td>id</td>
<td>æŸ¥çœ‹ç”¨æˆ·çš„ uid,gid åŠå½’å±çš„ç”¨æˆ·ç»„ã€‚</td>
</tr>
<tr>
<td>su</td>
<td>åˆ‡æ¢ç”¨æˆ·èº«ä»½ã€‚</td>
</tr>
<tr>
<td>visudo</td>
<td>ç¼–è¾‘ &#x2F; etc&#x2F;sudoers æ–‡ä»¶çš„ä¸“å±å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>sudo</td>
<td>ä»¥å¦å¤–ä¸€ä¸ªç”¨æˆ·èº«ä»½ï¼ˆé»˜è®¤ root ç”¨æˆ·ï¼‰æ‰§è¡Œäº‹å…ˆåœ¨ sudoers æ–‡ä»¶å…è®¸çš„å‘½ä»¤ã€‚</td>
</tr>
</tbody></table>
<h2 id="åŸºç¡€ç½‘ç»œæ“ä½œå‘½ä»¤"><a href="#åŸºç¡€ç½‘ç»œæ“ä½œå‘½ä»¤" class="headerlink" title="åŸºç¡€ç½‘ç»œæ“ä½œå‘½ä»¤"></a>åŸºç¡€ç½‘ç»œæ“ä½œå‘½ä»¤</h2><p>åŸºç¡€ç½‘ç»œæ“ä½œå‘½ä»¤ï¼ˆ11 ä¸ªï¼‰</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>telnet</td>
<td>ä½¿ç”¨ TELNET åè®®è¿œç¨‹ç™»å½•ã€‚</td>
</tr>
<tr>
<td>ssh</td>
<td>ä½¿ç”¨ SSH åŠ å¯†åè®®è¿œç¨‹ç™»å½•ã€‚</td>
</tr>
<tr>
<td>scp</td>
<td>å…¨æ‹¼ secure copyï¼Œç”¨äºä¸åŒä¸»æœºä¹‹é—´å¤åˆ¶æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>wget</td>
<td>å‘½ä»¤è¡Œä¸‹è½½æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>ping</td>
<td>æµ‹è¯•ä¸»æœºä¹‹é—´ç½‘ç»œçš„è¿é€šæ€§ã€‚</td>
</tr>
<tr>
<td>route</td>
<td>æ˜¾ç¤ºå’Œè®¾ç½® linux ç³»ç»Ÿçš„è·¯ç”±è¡¨ã€‚</td>
</tr>
<tr>
<td>ifconfig</td>
<td>æŸ¥çœ‹ã€é…ç½®ã€å¯ç”¨æˆ–ç¦ç”¨ç½‘ç»œæ¥å£çš„å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>ifup</td>
<td>å¯åŠ¨ç½‘å¡ã€‚</td>
</tr>
<tr>
<td>ifdown</td>
<td>å…³é—­ç½‘å¡ã€‚</td>
</tr>
<tr>
<td>netstat</td>
<td>æŸ¥çœ‹ç½‘ç»œçŠ¶æ€ã€‚</td>
</tr>
<tr>
<td>ss</td>
<td>æŸ¥çœ‹ç½‘ç»œçŠ¶æ€ã€‚</td>
</tr>
</tbody></table>
<h2 id="æ·±å…¥ç½‘ç»œæ“ä½œå‘½ä»¤"><a href="#æ·±å…¥ç½‘ç»œæ“ä½œå‘½ä»¤" class="headerlink" title="æ·±å…¥ç½‘ç»œæ“ä½œå‘½ä»¤"></a>æ·±å…¥ç½‘ç»œæ“ä½œå‘½ä»¤</h2><p>æ·±å…¥ç½‘ç»œæ“ä½œå‘½ä»¤ï¼ˆ9 ä¸ªï¼‰</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>nmap</td>
<td>ç½‘ç»œæ‰«æå‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>lsof</td>
<td>å…¨å list open filesï¼Œä¹Ÿå°±æ˜¯åˆ—ä¸¾ç³»ç»Ÿä¸­å·²ç»è¢«æ‰“å¼€çš„æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>mail</td>
<td>å‘é€å’Œæ¥æ”¶é‚®ä»¶ã€‚</td>
</tr>
<tr>
<td>mutt</td>
<td>é‚®ä»¶ç®¡ç†å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>nslookup</td>
<td>äº¤äº’å¼æŸ¥è¯¢äº’è”ç½‘ DNS æœåŠ¡å™¨çš„å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>dig</td>
<td>æŸ¥æ‰¾ DNS è§£æè¿‡ç¨‹ã€‚</td>
</tr>
<tr>
<td>host</td>
<td>æŸ¥è¯¢ DNS çš„å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>traceroute</td>
<td>è¿½è¸ªæ•°æ®ä¼ è¾“è·¯ç”±çŠ¶å†µã€‚</td>
</tr>
<tr>
<td>tcpdump</td>
<td>å‘½ä»¤è¡Œçš„æŠ“åŒ…å·¥å…·ã€‚</td>
</tr>
</tbody></table>
<h2 id="æœ‰å…³ç£ç›˜ä¸æ–‡ä»¶ç³»ç»Ÿçš„å‘½ä»¤"><a href="#æœ‰å…³ç£ç›˜ä¸æ–‡ä»¶ç³»ç»Ÿçš„å‘½ä»¤" class="headerlink" title="æœ‰å…³ç£ç›˜ä¸æ–‡ä»¶ç³»ç»Ÿçš„å‘½ä»¤"></a>æœ‰å…³ç£ç›˜ä¸æ–‡ä»¶ç³»ç»Ÿçš„å‘½ä»¤</h2><p>æœ‰å…³ç£ç›˜ä¸æ–‡ä»¶ç³»ç»Ÿçš„å‘½ä»¤ï¼ˆ16 ä¸ªï¼‰</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>mount</td>
<td>æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿã€‚</td>
</tr>
<tr>
<td>umount</td>
<td>å¸è½½æ–‡ä»¶ç³»ç»Ÿã€‚</td>
</tr>
<tr>
<td>fsck</td>
<td>æ£€æŸ¥å¹¶ä¿®å¤ Linux æ–‡ä»¶ç³»ç»Ÿã€‚</td>
</tr>
<tr>
<td>dd</td>
<td>è½¬æ¢æˆ–å¤åˆ¶æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>dumpe2fs</td>
<td>å¯¼å‡º ext2&#x2F;ext3&#x2F;ext4 æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>dump</td>
<td>ext2&#x2F;3&#x2F;4 æ–‡ä»¶ç³»ç»Ÿå¤‡ä»½å·¥å…·ã€‚</td>
</tr>
<tr>
<td>fdisk</td>
<td>ç£ç›˜åˆ†åŒºå‘½ä»¤ï¼Œé€‚ç”¨äº 2TB ä»¥ä¸‹ç£ç›˜åˆ†åŒºã€‚</td>
</tr>
<tr>
<td>parted</td>
<td>ç£ç›˜åˆ†åŒºå‘½ä»¤ï¼Œæ²¡æœ‰ç£ç›˜å¤§å°é™åˆ¶ï¼Œå¸¸ç”¨äº 2TB ä»¥ä¸‹ç£ç›˜åˆ†åŒºã€‚</td>
</tr>
<tr>
<td>mkfs</td>
<td>æ ¼å¼åŒ–åˆ›å»º Linux æ–‡ä»¶ç³»ç»Ÿã€‚</td>
</tr>
<tr>
<td>partprobe</td>
<td>æ›´æ–°å†…æ ¸çš„ç¡¬ç›˜åˆ†åŒºè¡¨ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>e2fsck</td>
<td>æ£€æŸ¥ ext2&#x2F;ext3&#x2F;ext4 ç±»å‹æ–‡ä»¶ç³»ç»Ÿã€‚</td>
</tr>
<tr>
<td>mkswap</td>
<td>åˆ›å»º Linux äº¤æ¢åˆ†åŒºã€‚</td>
</tr>
<tr>
<td>swapon</td>
<td>å¯ç”¨äº¤æ¢åˆ†åŒºã€‚</td>
</tr>
<tr>
<td>swapoff</td>
<td>å…³é—­äº¤æ¢åˆ†åŒºã€‚</td>
</tr>
<tr>
<td>sync</td>
<td>å°†å†…å­˜ç¼“å†²åŒºå†…çš„æ•°æ®å†™å…¥ç£ç›˜ã€‚</td>
</tr>
<tr>
<td>resize2fs</td>
<td>è°ƒæ•´ ext2&#x2F;ext3&#x2F;ext4 æ–‡ä»¶ç³»ç»Ÿå¤§å°ã€‚</td>
</tr>
</tbody></table>
<h2 id="ç³»ç»Ÿæƒé™åŠç”¨æˆ·æˆæƒç›¸å…³å‘½ä»¤"><a href="#ç³»ç»Ÿæƒé™åŠç”¨æˆ·æˆæƒç›¸å…³å‘½ä»¤" class="headerlink" title="ç³»ç»Ÿæƒé™åŠç”¨æˆ·æˆæƒç›¸å…³å‘½ä»¤"></a>ç³»ç»Ÿæƒé™åŠç”¨æˆ·æˆæƒç›¸å…³å‘½ä»¤</h2><p>ç³»ç»Ÿæƒé™åŠç”¨æˆ·æˆæƒç›¸å…³å‘½ä»¤ï¼ˆ4 ä¸ªï¼‰</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>chmod</td>
<td>æ”¹å˜æ–‡ä»¶æˆ–ç›®å½•æƒé™ã€‚</td>
</tr>
<tr>
<td>chown</td>
<td>æ”¹å˜æ–‡ä»¶æˆ–ç›®å½•çš„å±ä¸»å’Œå±ç»„ã€‚</td>
</tr>
<tr>
<td>chgrp</td>
<td>æ›´æ”¹æ–‡ä»¶ç”¨æˆ·ç»„ã€‚</td>
</tr>
<tr>
<td>umask</td>
<td>æ˜¾ç¤ºæˆ–è®¾ç½®æƒé™æ©ç ã€‚</td>
</tr>
</tbody></table>
<h2 id="æŸ¥çœ‹ç³»ç»Ÿç”¨æˆ·ç™»é™†ä¿¡æ¯çš„å‘½ä»¤"><a href="#æŸ¥çœ‹ç³»ç»Ÿç”¨æˆ·ç™»é™†ä¿¡æ¯çš„å‘½ä»¤" class="headerlink" title="æŸ¥çœ‹ç³»ç»Ÿç”¨æˆ·ç™»é™†ä¿¡æ¯çš„å‘½ä»¤"></a>æŸ¥çœ‹ç³»ç»Ÿç”¨æˆ·ç™»é™†ä¿¡æ¯çš„å‘½ä»¤</h2><p>æŸ¥çœ‹ç³»ç»Ÿç”¨æˆ·ç™»é™†ä¿¡æ¯çš„å‘½ä»¤ï¼ˆ7 ä¸ªï¼‰</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>whoami</td>
<td>æ˜¾ç¤ºå½“å‰æœ‰æ•ˆçš„ç”¨æˆ·åç§°ï¼Œç›¸å½“äºæ‰§è¡Œ id -un å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>who</td>
<td>æ˜¾ç¤ºç›®å‰ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>w</td>
<td>æ˜¾ç¤ºå·²ç»ç™»é™†ç³»ç»Ÿçš„ç”¨æˆ·åˆ—è¡¨ï¼Œå¹¶æ˜¾ç¤ºç”¨æˆ·æ­£åœ¨æ‰§è¡Œçš„æŒ‡ä»¤ã€‚</td>
</tr>
<tr>
<td>last</td>
<td>æ˜¾ç¤ºç™»å…¥ç³»ç»Ÿçš„ç”¨æˆ·ã€‚</td>
</tr>
<tr>
<td>lastlog</td>
<td>æ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·æœ€è¿‘ä¸€æ¬¡ç™»å½•ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>users</td>
<td>æ˜¾ç¤ºå½“å‰ç™»å½•ç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ·çš„ç”¨æˆ·åˆ—è¡¨ã€‚</td>
</tr>
<tr>
<td>finger</td>
<td>æŸ¥æ‰¾å¹¶æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯ã€‚</td>
</tr>
</tbody></table>
<h2 id="å†…ç½®å‘½ä»¤åŠå…¶å®ƒ"><a href="#å†…ç½®å‘½ä»¤åŠå…¶å®ƒ" class="headerlink" title="å†…ç½®å‘½ä»¤åŠå…¶å®ƒ"></a>å†…ç½®å‘½ä»¤åŠå…¶å®ƒ</h2><p>å†…ç½®å‘½ä»¤åŠå…¶å®ƒï¼ˆ19 ä¸ªï¼‰</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>echo</td>
<td>æ‰“å°å˜é‡ï¼Œæˆ–ç›´æ¥è¾“å‡ºæŒ‡å®šçš„å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>printf</td>
<td>å°†ç»“æœæ ¼å¼åŒ–è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºã€‚</td>
</tr>
<tr>
<td>rpm</td>
<td>ç®¡ç† rpm åŒ…çš„å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>yum</td>
<td>è‡ªåŠ¨åŒ–ç®€å•åŒ–åœ°ç®¡ç† rpm åŒ…çš„å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>watch</td>
<td>å‘¨æœŸæ€§çš„æ‰§è¡Œç»™å®šçš„å‘½ä»¤ï¼Œå¹¶å°†å‘½ä»¤çš„è¾“å‡ºä»¥å…¨å±æ–¹å¼æ˜¾ç¤ºã€‚</td>
</tr>
<tr>
<td>alias</td>
<td>è®¾ç½®ç³»ç»Ÿåˆ«åã€‚</td>
</tr>
<tr>
<td>unalias</td>
<td>å–æ¶ˆç³»ç»Ÿåˆ«åã€‚</td>
</tr>
<tr>
<td>date</td>
<td>æŸ¥çœ‹æˆ–è®¾ç½®ç³»ç»Ÿæ—¶é—´ã€‚</td>
</tr>
<tr>
<td>clear</td>
<td>æ¸…é™¤å±å¹•ï¼Œç®€ç§°æ¸…å±ã€‚</td>
</tr>
<tr>
<td>history</td>
<td>æŸ¥çœ‹å‘½ä»¤æ‰§è¡Œçš„å†å²çºªå½•ã€‚</td>
</tr>
<tr>
<td>eject</td>
<td>å¼¹å‡ºå…‰é©±ã€‚</td>
</tr>
<tr>
<td>time</td>
<td>è®¡ç®—å‘½ä»¤æ‰§è¡Œæ—¶é—´ã€‚</td>
</tr>
<tr>
<td>nc</td>
<td>åŠŸèƒ½å¼ºå¤§çš„ç½‘ç»œå·¥å…·ã€‚</td>
</tr>
<tr>
<td>xargs</td>
<td>å°†æ ‡å‡†è¾“å…¥è½¬æ¢æˆå‘½ä»¤è¡Œå‚æ•°ã€‚</td>
</tr>
<tr>
<td>exec</td>
<td>è°ƒç”¨å¹¶æ‰§è¡ŒæŒ‡ä»¤çš„å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>export</td>
<td>è®¾ç½®æˆ–è€…æ˜¾ç¤ºç¯å¢ƒå˜é‡ã€‚</td>
</tr>
<tr>
<td>unset</td>
<td>åˆ é™¤å˜é‡æˆ–å‡½æ•°ã€‚</td>
</tr>
<tr>
<td>type</td>
<td>ç”¨äºåˆ¤æ–­å¦å¤–ä¸€ä¸ªå‘½ä»¤æ˜¯å¦æ˜¯å†…ç½®å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>bc</td>
<td>å‘½ä»¤è¡Œç§‘å­¦è®¡ç®—å™¨</td>
</tr>
</tbody></table>
<h2 id="ç³»ç»Ÿç®¡ç†ä¸æ€§èƒ½ç›‘è§†å‘½ä»¤"><a href="#ç³»ç»Ÿç®¡ç†ä¸æ€§èƒ½ç›‘è§†å‘½ä»¤" class="headerlink" title="ç³»ç»Ÿç®¡ç†ä¸æ€§èƒ½ç›‘è§†å‘½ä»¤"></a>ç³»ç»Ÿç®¡ç†ä¸æ€§èƒ½ç›‘è§†å‘½ä»¤</h2><p>ç³»ç»Ÿç®¡ç†ä¸æ€§èƒ½ç›‘è§†å‘½ä»¤ (9 ä¸ª)</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>chkconfig</td>
<td>ç®¡ç† Linux ç³»ç»Ÿå¼€æœºå¯åŠ¨é¡¹ã€‚</td>
</tr>
<tr>
<td>vmstat</td>
<td>è™šæ‹Ÿå†…å­˜ç»Ÿè®¡ã€‚</td>
</tr>
<tr>
<td>mpstat</td>
<td>æ˜¾ç¤ºå„ä¸ªå¯ç”¨ CPU çš„çŠ¶æ€ç»Ÿè®¡ã€‚</td>
</tr>
<tr>
<td>iostat</td>
<td>ç»Ÿè®¡ç³»ç»Ÿ IOã€‚</td>
</tr>
<tr>
<td>sar</td>
<td>å…¨é¢åœ°è·å–ç³»ç»Ÿçš„ CPUã€è¿è¡Œé˜Ÿåˆ—ã€ç£ç›˜ I&#x2F;Oã€åˆ†é¡µï¼ˆäº¤æ¢åŒºï¼‰ã€å†…å­˜ã€ CPU ä¸­æ–­å’Œç½‘ç»œç­‰æ€§èƒ½æ•°æ®ã€‚</td>
</tr>
<tr>
<td>ipcs</td>
<td>ç”¨äºæŠ¥å‘Š Linux ä¸­è¿›ç¨‹é—´é€šä¿¡è®¾æ–½çš„çŠ¶æ€ï¼Œæ˜¾ç¤ºçš„ä¿¡æ¯åŒ…æ‹¬æ¶ˆæ¯åˆ—è¡¨ã€å…±äº«å†…å­˜å’Œä¿¡å·é‡çš„ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>ipcrm</td>
<td>ç”¨æ¥åˆ é™¤ä¸€ä¸ªæˆ–æ›´å¤šçš„æ¶ˆæ¯é˜Ÿåˆ—ã€ä¿¡å·é‡é›†æˆ–è€…å…±äº«å†…å­˜æ ‡è¯†ã€‚</td>
</tr>
<tr>
<td>strace</td>
<td>ç”¨äºè¯Šæ–­ã€è°ƒè¯• Linux ç”¨æˆ·ç©ºé—´è·Ÿè¸ªå™¨ã€‚æˆ‘ä»¬ç”¨å®ƒæ¥ç›‘æ§ç”¨æˆ·ç©ºé—´è¿›ç¨‹å’Œå†…æ ¸çš„äº¤äº’ï¼Œæ¯”å¦‚ç³»ç»Ÿè°ƒç”¨ã€ä¿¡å·ä¼ é€’ã€è¿›ç¨‹çŠ¶æ€å˜æ›´ç­‰ã€‚</td>
</tr>
<tr>
<td>ltrace</td>
<td>å‘½ä»¤ä¼šè·Ÿè¸ªè¿›ç¨‹çš„åº“å‡½æ•°è°ƒç”¨, å®ƒä¼šæ˜¾ç°å‡ºå“ªä¸ªåº“å‡½æ•°è¢«è°ƒç”¨ã€‚</td>
</tr>
</tbody></table>
<h2 id="å…³æœº-é‡å¯-æ³¨é”€å’ŒæŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯çš„å‘½ä»¤"><a href="#å…³æœº-é‡å¯-æ³¨é”€å’ŒæŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯çš„å‘½ä»¤" class="headerlink" title="å…³æœº &#x2F; é‡å¯ &#x2F; æ³¨é”€å’ŒæŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯çš„å‘½ä»¤"></a>å…³æœº &#x2F; é‡å¯ &#x2F; æ³¨é”€å’ŒæŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯çš„å‘½ä»¤</h2><p>å…³æœº &#x2F; é‡å¯ &#x2F; æ³¨é”€å’ŒæŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯çš„å‘½ä»¤ï¼ˆ6 ä¸ªï¼‰</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>shutdown</td>
<td>å…³æœºã€‚</td>
</tr>
<tr>
<td>halt</td>
<td>å…³æœºã€‚</td>
</tr>
<tr>
<td>poweroff</td>
<td>å…³é—­ç”µæºã€‚</td>
</tr>
<tr>
<td>logout</td>
<td>é€€å‡ºå½“å‰ç™»å½•çš„ Shellã€‚</td>
</tr>
<tr>
<td>exit</td>
<td>é€€å‡ºå½“å‰ç™»å½•çš„ Shellã€‚</td>
</tr>
<tr>
<td>Ctrl+d</td>
<td>é€€å‡ºå½“å‰ç™»å½•çš„ Shell çš„å¿«æ·é”®ã€‚</td>
</tr>
</tbody></table>
<h2 id="è¿›ç¨‹ç®¡ç†ç›¸å…³å‘½ä»¤"><a href="#è¿›ç¨‹ç®¡ç†ç›¸å…³å‘½ä»¤" class="headerlink" title="è¿›ç¨‹ç®¡ç†ç›¸å…³å‘½ä»¤"></a>è¿›ç¨‹ç®¡ç†ç›¸å…³å‘½ä»¤</h2><p>è¿›ç¨‹ç®¡ç†ç›¸å…³å‘½ä»¤ï¼ˆ15 ä¸ªï¼‰</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>bg</td>
<td>å°†ä¸€ä¸ªåœ¨åå°æš‚åœçš„å‘½ä»¤ï¼Œå˜æˆç»§ç»­æ‰§è¡Œ ï¼ˆåœ¨åå°æ‰§è¡Œï¼‰ã€‚</td>
</tr>
<tr>
<td>fg</td>
<td>å°†åå°ä¸­çš„å‘½ä»¤è°ƒè‡³å‰å°ç»§ç»­è¿è¡Œã€‚</td>
</tr>
<tr>
<td>jobs</td>
<td>æŸ¥çœ‹å½“å‰æœ‰å¤šå°‘åœ¨åå°è¿è¡Œçš„å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>kill</td>
<td>ç»ˆæ­¢è¿›ç¨‹ã€‚</td>
</tr>
<tr>
<td>killall</td>
<td>é€šè¿‡è¿›ç¨‹åç»ˆæ­¢è¿›ç¨‹ã€‚</td>
</tr>
<tr>
<td>pkill</td>
<td>é€šè¿‡è¿›ç¨‹åç»ˆæ­¢è¿›ç¨‹ã€‚</td>
</tr>
<tr>
<td>crontab</td>
<td>å®šæ—¶ä»»åŠ¡å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>ps</td>
<td>æ˜¾ç¤ºè¿›ç¨‹çš„å¿«ç…§ã€‚</td>
</tr>
<tr>
<td>pstree</td>
<td>æ ‘å½¢æ˜¾ç¤ºè¿›ç¨‹ã€‚</td>
</tr>
<tr>
<td>nice&#x2F;renice</td>
<td>è°ƒæ•´ç¨‹åºè¿è¡Œçš„ä¼˜å…ˆçº§ã€‚</td>
</tr>
<tr>
<td>nohup</td>
<td>å¿½ç•¥æŒ‚èµ·ä¿¡å·è¿è¡ŒæŒ‡å®šçš„å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>pgrep</td>
<td>æŸ¥æ‰¾åŒ¹é…æ¡ä»¶çš„è¿›ç¨‹ã€‚</td>
</tr>
<tr>
<td>runlevel</td>
<td>æŸ¥çœ‹ç³»ç»Ÿå½“å‰è¿è¡Œçº§åˆ«ã€‚</td>
</tr>
<tr>
<td>init</td>
<td>åˆ‡æ¢è¿è¡Œçº§åˆ«ã€‚</td>
</tr>
<tr>
<td>service</td>
<td>å¯åŠ¨ã€åœæ­¢ã€é‡æ–°å¯åŠ¨å’Œå…³é—­ç³»ç»ŸæœåŠ¡ï¼Œè¿˜å¯ä»¥æ˜¾ç¤ºæ‰€æœ‰ç³»ç»ŸæœåŠ¡çš„å½“å‰çŠ¶æ€ã€‚</td>
</tr>
</tbody></table>
<h1 id="å¸¸ç”¨æ“ä½œè¡¥å……"><a href="#å¸¸ç”¨æ“ä½œè¡¥å……" class="headerlink" title="å¸¸ç”¨æ“ä½œè¡¥å……"></a>å¸¸ç”¨æ“ä½œè¡¥å……</h1><h2 id="æŸ¥æ‰¾æ–‡ä»¶æ•°é‡"><a href="#æŸ¥æ‰¾æ–‡ä»¶æ•°é‡" class="headerlink" title="æŸ¥æ‰¾æ–‡ä»¶æ•°é‡"></a>æŸ¥æ‰¾æ–‡ä»¶æ•°é‡</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">find directory_path -type f | wc -l</span><br></pre></td></tr></table></figure>

<h2 id="å·¨é‡æ–‡ä»¶å¤¹åˆ é™¤"><a href="#å·¨é‡æ–‡ä»¶å¤¹åˆ é™¤" class="headerlink" title="å·¨é‡æ–‡ä»¶å¤¹åˆ é™¤"></a>å·¨é‡æ–‡ä»¶å¤¹åˆ é™¤</h2><ul>
<li>[] å½“æ–‡ä»¶æ¯”è¾ƒå°‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>rm -rf æ–‡ä»¶è·¯å¾„</code>ã€‚ä½†æ˜¯å½“æ–‡ä»¶å¤¹ä¸‹é¢çš„æ–‡ä»¶æ¯”è¾ƒå¤šå¹¶ä¸”å±‚çº§æ¯”è¾ƒæ·±çš„æ—¶å€™ï¼Œé‚£ä¹ˆç›´æ¥ç”¨<code>rm -rf</code>å‘½ä»¤çš„è¯ï¼Œæ˜¯éå¸¸ä¸ç°å®çš„ï¼Œä¼šå¯¼è‡´åˆ é™¤æ¯”è¾ƒç¼“æ…¢ã€‚<br>è§£å†³æ–¹æ¡ˆæ˜¯: ä½¿ç”¨<code>rsync</code>å‘½ä»¤ã€‚èƒ½è¾ƒå¿«çš„åˆ é™¤æ–‡ä»¶ã€‚<br>æ³¨æ„ï¼šLINUXç³»ç»Ÿæœ¬èº«è¦å®‰è£…<code>rsync</code>æ‰è¡Œã€‚<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">rsync --delete-before -d /data/blank/ /data/survey_paas/export_yn/evidence/2023-11-19/1725931689594683393/</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="rsync-å‘½ä»¤"><a href="#rsync-å‘½ä»¤" class="headerlink" title="rsync å‘½ä»¤"></a>rsync å‘½ä»¤</h3><p><code>rsync</code>æœ¬èº«çš„å°±æ˜¯å°†ä¸¤ä¸ªæ–‡ä»¶å¤¹ä½œåŒæ­¥ä½¿ç”¨.</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux è½¯ä»¶å®‰è£…</title>
    <url>/2023/12/01/Linux%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/</url>
    <content><![CDATA[<h1 id="Linuxè½¯ä»¶å®‰è£…"><a href="#Linuxè½¯ä»¶å®‰è£…" class="headerlink" title="Linuxè½¯ä»¶å®‰è£…"></a>Linuxè½¯ä»¶å®‰è£…</h1><p>&#x3D;&#x3D;æ³¨æ„:ä»¥ä¸‹æ‰€æœ‰çš„å®‰è£…å‡å®‰è£…åœ¨Linuxæ–°å»ºçš„æ–‡ä»¶å¤¹&#x2F;home&#x2F;softä¸‹é¢ï¼Œè¯¥æ–‡ä»¶å¤¹å·²ç»å­˜åœ¨ã€‚&#x3D;&#x3D;</p>
<h2 id="ä¸€ã€å®‰è£…OpenJDK"><a href="#ä¸€ã€å®‰è£…OpenJDK" class="headerlink" title="ä¸€ã€å®‰è£…OpenJDK"></a>ä¸€ã€å®‰è£…OpenJDK</h2><p>ä¸‹è½½åœ°å€ï¼š<a href="https://jdk.java.net/archive/">https://jdk.java.net/archive/</a><br>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥/home/softæ–‡ä»¶å¤¹ä¸‹</span></span><br><span class="line"><span class="built_in">cd</span> /home/soft</span><br><span class="line"></span><br><span class="line"><span class="comment">################### å°†ä¸‹è½½çš„.tar.gzæ–‡ä»¶ä¸Šä¼ åˆ°è¯¥ç›®å½• ###################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†ä¸Šä¼ çš„å‹ç¼©åŒ…è§£å‹</span></span><br><span class="line">tar -zxvf openjdk-11.0.2_linux-x64_bin.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">vi /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment">#################### åœ¨ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­é…ç½®å¦‚ä¸‹: ###################</span></span><br><span class="line"><span class="comment">##################################################</span></span><br><span class="line"><span class="comment"># jdk é…ç½®</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/home/soft/jdk-11.0.2</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span></span><br><span class="line">java -version</span><br></pre></td></tr></table></figure>

<h2 id="äºŒã€å®‰è£…Maven"><a href="#äºŒã€å®‰è£…Maven" class="headerlink" title="äºŒã€å®‰è£…Maven"></a>äºŒã€å®‰è£…Maven</h2><p>ä¸‹è½½åœ°å€ï¼š<a href="https://maven.apache.org/download.cgi">https://maven.apache.org/download.cgi</a><br>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥/home/softæ–‡ä»¶å¤¹ä¸‹</span></span><br><span class="line"><span class="built_in">cd</span> /home/soft</span><br><span class="line"></span><br><span class="line"><span class="comment">################### å°†ä¸‹è½½çš„.tar.gzæ–‡ä»¶ä¸Šä¼ åˆ°è¯¥ç›®å½• ###################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†ä¸Šä¼ çš„å‹ç¼©åŒ…è§£å‹</span></span><br><span class="line">tar -zxvf apache-maven-3.9.5-bin.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">vi /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment">#################### åœ¨ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­é…ç½®å¦‚ä¸‹: ###################</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># nexus é…ç½®</span></span><br><span class="line"><span class="built_in">export</span> NEXUS_HOME=/home/soft/nexus-3.62.0-01</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$NEXUS_HOME</span>/bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span></span><br><span class="line">mvn -v</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€å®‰è£…Nexus3"><a href="#ä¸‰ã€å®‰è£…Nexus3" class="headerlink" title="ä¸‰ã€å®‰è£…Nexus3"></a>ä¸‰ã€å®‰è£…Nexus3</h2><p>ä¸‹è½½åœ°å€ï¼š<a href="https://help.sonatype.com/repomanager3/product-information/download">https://help.sonatype.com/repomanager3/product-information/download</a><br>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ğŸ‘‡</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥/home/softæ–‡ä»¶å¤¹ä¸‹</span></span><br><span class="line"><span class="built_in">cd</span> /home/soft</span><br><span class="line"></span><br><span class="line"><span class="comment">################### å°†ä¸‹è½½çš„.tar.gzæ–‡ä»¶ä¸Šä¼ åˆ°è¯¥ç›®å½• ###################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†ä¸Šä¼ çš„å‹ç¼©åŒ…è§£å‹</span></span><br><span class="line">tar -zxvf nexus-3.62.0-01-unix.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">vi /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment">#################### åœ¨ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­é…ç½®å¦‚ä¸‹: ###################</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># nexus é…ç½®</span></span><br><span class="line"><span class="built_in">export</span> NEXUS_HOME=/home/soft/nexus-3.62.0-01</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$NEXUS_HOME</span>/bin</span><br></pre></td></tr></table></figure>
<p>è¿›è¡Œ<code>nexux</code>å¯åŠ¨</p>
<p><code>nexux</code>å‘½ä»¤æºå¸¦çš„å‘½ä»¤æœ‰ä»¥ä¸‹å‡ ç§ï¼š<code>start|stop|run|run-redirect|status|restart|force-reload</code></p>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤âš“</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥åˆ°è§£å‹nexusçš„æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="built_in">cd</span> /home/soft/nexus-3.62.0-01</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥åˆ°nexusçš„binç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># å½“æˆ‘ä»¬æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤èƒ½çœ‹åˆ°</span></span><br><span class="line">[root@localhost bin]<span class="comment"># ./nexus</span></span><br><span class="line">WARNING: ************************************************************</span><br><span class="line">WARNING: Detected execution as <span class="string">&quot;root&quot;</span> user.  This is NOT recommended!</span><br><span class="line">WARNING: ************************************************************</span><br><span class="line">Usage: ./nexus &#123;start|stop|run|run-redirect|status|restart|force-reload&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œå‘½ä»¤å¦‚ä¸‹</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ç›´æ¥å¯åŠ¨  è§‚å¯Ÿå¯åŠ¨æ—¥å¿— æ²¡é—®é¢˜åœ¨ä½¿ç”¨åå°å¯åŠ¨</span></span><br><span class="line">./nexus-3.62.0-01/bin/nexus run</span><br><span class="line"><span class="comment"># åå°å¯åŠ¨</span></span><br><span class="line">./nexus-3.62.0-01/bin/nexus start</span><br></pre></td></tr></table></figure>

<p>å½“æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å‘ç°å¼‚å¸¸:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@localhost bin]<span class="comment"># nohup ./nexus run &amp;</span></span><br><span class="line">[1] 14730</span><br><span class="line">[root@localhost bin]<span class="comment"># nohup: å¿½ç•¥è¾“å…¥å¹¶æŠŠè¾“å‡ºè¿½åŠ åˆ°&#x27;nohup.out&#x27;</span></span><br><span class="line">^C</span><br><span class="line">[1]+  é€€å‡º 255              <span class="built_in">nohup</span> ./nexus run</span><br><span class="line"></span><br><span class="line"><span class="comment">## æŸ¥çœ‹å†™å…¥çš„æ—¥å¿—</span></span><br><span class="line">[root@localhost bin]<span class="comment"># tail -1000f nohup.out </span></span><br><span class="line">WARNING: ************************************************************</span><br><span class="line">WARNING: Detected execution as <span class="string">&quot;root&quot;</span> user.  This is NOT recommended!</span><br><span class="line">WARNING: ************************************************************</span><br><span class="line">Nexus data directory already <span class="keyword">in</span> use: /home/soft/sonatype-work/nexus3</span><br></pre></td></tr></table></figure>

<p>åšå¦‚ä¸‹ä¿®æ”¹ğŸ–±ï¸<br>ä¿®æ”¹ <code>vim bin/nexus</code> æ–‡ä»¶ä¸­çš„ <code>run_as_root=true</code> æ”¹ä¸º <code>false</code><br><img src="https://s2.loli.net/2023/11/30/Zey9I184KPoizwH.png" alt="image.png"><br>ä¿®æ”¹ <code>nexus.rc</code> æ–‡ä»¶çš„ç”¨æˆ·ä¸º<code>root</code>.</p>
<p>è®¾ç½®é˜²ç«å¢™å¹¶å¼€æ”¾ç«¯å£</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@localhost bin]<span class="comment"># systemctl start firewalld</span></span><br><span class="line">[root@localhost bin]<span class="comment"># systemctl enable firewalld</span></span><br><span class="line">[root@localhost bin]<span class="comment"># firewall-cmd --zone=public --add-port=8081/tcp --permanent</span></span><br><span class="line">success</span><br><span class="line">[root@localhost bin]<span class="comment"># firewall-cmd --reload</span></span><br><span class="line">success</span><br><span class="line">[root@localhost bin]<span class="comment"># firewall-cmd --zone=public --list-ports</span></span><br><span class="line">8081/tcp</span><br><span class="line">[root@localhost bin]<span class="comment"># ./nexus start</span></span><br><span class="line">Starting nexus</span><br><span class="line">[root@localhost bin]<span class="comment"># ./nexus status</span></span><br><span class="line">nexus is running.</span><br></pre></td></tr></table></figure>
<p>æŸ¥è¯¢å¼€å‘çš„ç«¯å£:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@localhost etc]<span class="comment"># firewall-cmd --list-all</span></span><br><span class="line">public (active)</span><br><span class="line">  target: default</span><br><span class="line">  icmp-block-inversion: no</span><br><span class="line">  interfaces: ens160</span><br><span class="line">  sources: </span><br><span class="line">  services: cockpit dhcpv6-client ssh</span><br><span class="line">  ports: 8081/tcp</span><br><span class="line">  protocols: </span><br><span class="line">  forward: no</span><br><span class="line">  masquerade: no</span><br><span class="line">  forward-ports: </span><br><span class="line">  source-ports: </span><br><span class="line">  icmp-blocks: </span><br><span class="line">  rich rules: </span><br><span class="line">[root@localhost etc]<span class="comment"># firewall-cmd --query-port=8081/tcp</span></span><br><span class="line"><span class="built_in">yes</span></span><br><span class="line">[root@localhost etc]<span class="comment"># firewall-cmd --permanent --add-port=8081/tcp</span></span><br><span class="line">Warning: ALREADY_ENABLED: 8081:tcp</span><br><span class="line">success</span><br><span class="line">[root@localhost etc]<span class="comment"># firewall-cmd --reload</span></span><br><span class="line">success</span><br></pre></td></tr></table></figure>
<p>&#x3D;&#x3D;.&#x2F;nexus start å¯åŠ¨æ˜¯åå°å¯åŠ¨&#x3D;&#x3D;<br>&#x3D;&#x3D;æ³¨æ„ï¼šNexusé¦–æ¬¡å¯åŠ¨æ—¶å€™æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ…¢æ…¢ç­‰å¾…ã€‚&#x3D;&#x3D;<br>çœ‹åˆ°ä¸‹é¢çš„å†…å®¹è¡¨ç¤ºnexuså¯åŠ¨æˆåŠŸï¼š<br><img src="https://s2.loli.net/2023/11/30/FJkR78SDx5MeHgh.png" alt="image.png"></p>
<p>å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ç«¯å£æ˜¯å¦å¯åŠ¨ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">firewall-cmd --zone=public --list-ports</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨æˆåŠŸä»¥åè®¿é—®é¡µé¢å³å¯: http:&#x2F;&#x2F;æœåŠ¡å™¨ip:8081&#x2F;ï¼Œ8081ä¸ºé»˜è®¤ç«¯å£å·</p>
<h2 id="å››ã€å®‰è£…nohubå¹¶é…ç½®å…¨å±€å¯ç”¨"><a href="#å››ã€å®‰è£…nohubå¹¶é…ç½®å…¨å±€å¯ç”¨" class="headerlink" title="å››ã€å®‰è£…nohubå¹¶é…ç½®å…¨å±€å¯ç”¨"></a>å››ã€å®‰è£…nohubå¹¶é…ç½®å…¨å±€å¯ç”¨</h2><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤âš“</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1ã€æŸ¥çœ‹æ˜¯å¦å®‰è£…nohub   è¡¨ç¤ºå·²å®‰è£…</span></span><br><span class="line">[root@localhost bin]<span class="comment"># which nohup</span></span><br><span class="line">/usr/bin/nohup</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2ã€æœªå®‰è£…è¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œå‘½ä»¤å†æ‰§è¡Œæ“ä½œ1çš„å‘½ä»¤</span></span><br><span class="line">yum install coreutils</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3ã€é…ç½®nohupè·¯å¾„ï¼Œå…¨å±€ä½¿ç”¨</span></span><br><span class="line">vi ~/.bash_profile</span><br><span class="line"><span class="comment">###################æ·»åŠ å¦‚ä¸‹ PATH=$PATH:$HOME/bin:/usr/bin</span></span><br><span class="line"><span class="comment"># .bash_profile</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Get the aliases and functions</span></span><br><span class="line"><span class="keyword">if</span> [ -f ~/.bashrc ]; <span class="keyword">then</span></span><br><span class="line">        . ~/.bashrc</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># User specific environment and startup programs</span></span><br><span class="line"></span><br><span class="line">PATH=<span class="variable">$PATH</span>:<span class="variable">$HOME</span>/bin:/usr/bin</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> PATH</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
</search>
